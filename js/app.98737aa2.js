(function(t){function e(e){for(var n,i,r=e[0],c=e[1],l=e[2],u=0,p=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var c=a[i];0!==o[c]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},o={app:0},s=[];function i(t){return r.p+"js/"+({pdfjsWorker:"pdfjsWorker"}[t]||t)+"."+{pdfjsWorker:"ce3b7837"}[t]+".js"}function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(t){var e=[],a=o[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=n);var s,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=i(t);var l=new Error;s=function(e){c.onerror=c.onload=null,clearTimeout(u);var a=o[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",l.name="ChunkLoadError",l.type=n,l.request=s,a[1](l)}o[t]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:c})}),12e4);c.onerror=c.onload=s,document.head.appendChild(c)}return Promise.all(e)},r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"052b":function(t,e,a){},"0581":function(t,e,a){},"0e25":function(t,e,a){},"0ee5":function(t,e,a){"use strict";var n=a("116f"),o=a.n(n);o.a},"0f47":function(t,e,a){"use strict";var n=a("ad80"),o=a.n(n);o.a},1:function(t,e){},"116f":function(t,e,a){},1342:function(t,e,a){"use strict";var n=a("7cff"),o=a.n(n);o.a},"16da":function(t,e,a){},1977:function(t,e,a){var n={"./Audio And Task-icon.svg":"80db","./Book-icon.svg":"ea9d","./Document-icon.svg":"3376","./Learning Games-icon.svg":"30e6","./Simulation-icon.svg":"8742","./Software-icon.svg":"75cd","./Video-icon.svg":"ad6d"};function o(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=s,t.exports=o,o.id="1977"},2:function(t,e){},"2a44":function(t,e,a){},"2eb5":function(t,e,a){},3:function(t,e){},"30e6":function(t,e,a){t.exports=a.p+"img/Learning Games-icon.918684bd.svg"},"31b4":function(t,e,a){},3376:function(t,e,a){t.exports=a.p+"img/Document-icon.c8128b8c.svg"},"368d":function(t,e,a){},"3a5a":function(t,e,a){},4:function(t,e){},4026:function(t,e,a){},"438f":function(t,e,a){t.exports=a.p+"img/MOES&T-logoDark.640e6415.png"},"43c9":function(t,e,a){},"4ac1":function(t,e,a){},"55e8":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("7618"),o=(a("cadf"),a("551c"),a("f751"),a("097d"),a("2b0e")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],r=a("2877"),c={},l=Object(r["a"])(c,s,i,!1,null,null,null),u=l.exports,d=a("bc3a"),p=a.n(d),m=a("2f62");o["default"].use(m["a"]);var h=new m["a"].Store({state:{locale:"np",subject:null,history:null,subjectName:null},mutations:{toggleLocale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t.locale=null==e?"en"==t.locale?"np":"en":e},setSubject:function(t,e){t.subject=e},setHistory:function(t,e){t.history=e},setSubjectName:function(t,e){t.subjectName=e}},actions:{history:function(t,e){t.commit("setHistory",e)}}}),f=a("8c4f"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"flex-reverse",attrs:{id:"locale-info justify-contetn-center"}},[n("img",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-help",modifiers:{"modal-help":!0}}],staticClass:"helpIcon",attrs:{src:a("e4b0"),alt:"Help",title:"Help"}}),n("b-modal",{attrs:{id:"modal-help",size:"lg",title:"Help","hide-footer":""}},[n("b-embed",{attrs:{type:"video",controls:"",allowfullscreen:"",autoplay:""}},[n("source",{attrs:{src:a("cac6"),type:"video/mp4"}})])],1)],1),n("div",{staticClass:"flex-reverse lang"},[n("div",{staticClass:"aselect",attrs:{"data-value":t.defaultLanguage,"data-list":t.langauge,tabindex:"0"},on:{focusout:t.handleFocusOut}},[n("div",{staticClass:"selector",on:{click:function(e){return t.toggleLanguage()}}},[n("div",{staticClass:"label"},[n("span",[t._v(t._s("en"===t.defaultLanguage?t.defaultLanguage.toUpperCase():"ने"))])]),n("div",{staticClass:"arrow",class:{expanded:t.visible}}),n("div",{class:{hidden:!t.visible,visible:t.visible}},[n("ul",t._l(t.langauge,(function(e){return n("li",{key:e.value,class:{current:e.value===t.langauge.value},on:{click:function(a){return t.selectLanguage(e.value)}}},[t._v("\n              "+t._s(e.text.toUpperCase())+"\n            ")])})),0)])])])]),n(t.currentComponent,{tag:"Component",attrs:{config:t.data},on:{"change-component":t.changeComponent}})],1)},b=[],v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashbody"},[n("div",{ref:"fullpage",attrs:{id:"fullpage"}},[n("div",{staticClass:"row fullheight"},[n("div",{staticClass:"kidimg col-6 col-xs-0 col-sm-0 col-md-0 col-lg-0 col-xl-4"},[n("b-img",{staticClass:"kidsimg"})],1),n("div",{staticClass:"col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-8 w-100 h-100 dashgrade"},[n("div",{staticClass:"rightBody"},[n("div",{staticClass:"justify-content-center"},[n("div",{staticClass:"headerBanner"},["en"===this.$store.state.locale?n("img",{staticClass:"logo",attrs:{src:a("8f0a"),alt:"MOE-logo"}}):t._e(),"np"===this.$store.state.locale?n("img",{staticClass:"logo",attrs:{src:a("976b"),alt:"MOE-logo"}}):t._e()]),n("div",{staticClass:"w-100 dasbody"},[n("div",{staticClass:"flex-center w-100"},["np"===this.$store.state.locale?n("p",{staticClass:"selectSubject"},[t._v("कृपया आफ्नो कक्षा छान्नु होला।")]):n("p",{staticClass:"selectSubject",staticStyle:{color:"#fff !important"}},[t._v("Please select your grade")])]),n("div",{staticClass:"w-100 row flex-center grade-btn"},t._l(t.configContent,(function(e){return n("button",{key:e.id,staticClass:"dark-hover pointer subject-btn button_slide slide_left",staticStyle:{"padding-left":"0px","padding-right":"0px"},on:{click:function(a){return t.getSubjects(e)}}},[n("h1",[t._v(t._s(e["name_"+t.$store.state.locale]))])])})),0)])])])])])])])},_=[],y=(a("96cf"),a("3b8d")),C=(a("f0c9"),a("16da"),p.a.create({baseURL:"https://learning.cehrd.edu.np/node/api/"})),w={data:function(){return{selected:"",configContent:null}},created:function(){var t=this;C.get("grades").then((function(e){if("success"===e.data.response){var a=t.$store.state.history;null!=a&&null!=a.allGrade||(null==a&&(a={}),a.allGrade=""),t.configContent=e.data.data,a.allGrade=e.data.data,t.$store.dispatch("history",a)}})).catch((function(t){console.log("Error ",t)}))},methods:{getHome:function(){localStorage.removeItem("subhistory")},getSubjects:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=this.$store.state.history,null!=a&&null!=a.grade||(null==a&&(a={}),a.grade="",a.subject=""),a.grade=e,this.$store.dispatch("history",a),localStorage.setItem("subhistory",JSON.stringify(a)),this.$emit("change-component",e);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},k=w,T=(a("852a"),Object(r["a"])(k,v,_,!1,null,"65aabc72",null)),x=T.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"d-flex flex-column justify-content-center w-100"},[n("div",{staticClass:"row"},[n("div",{staticClass:"subj-header w-100"},[n("div",{staticClass:"gradeColor"},[n("div",{staticClass:"home-btn d-flex flex-column justify-content-center"},[n("span",{staticClass:"logo-bg"},["en"===this.$store.state.locale?n("img",{attrs:{src:a("8f0a"),alt:"home"},on:{click:t.backToGrade}}):t._e(),"np"===this.$store.state.locale?n("img",{attrs:{src:a("976b"),alt:"home"},on:{click:t.backToGrade}}):t._e()]),n("div",{staticClass:"homebtn justify-content-center"},[n("button",{staticClass:"active subject-title-btn justify-content-center",attrs:{type:"button"},on:{click:t.backToGrade}},[n("b-icon",{attrs:{icon:"house-fill"}}),t._v("Home\n              ")],1)])])])]),n("b-modal",{ref:"view-modal",attrs:{id:"modal-2",title:t.embed.title,"hide-footer":""}},[t.documentDataModal.active?n("Document2",{attrs:{documentData:t.documentDataModal}}):t._e()],1),n("div",{staticClass:"w-100 headerSelect",staticStyle:{background:"#c6d8d3"}},[n("div",{staticClass:"container"},[n("div",{staticClass:"row justify-content-center HeaderMenuBtn"},[n("div",{staticClass:"gradebtnColor w-100"},[n("div",{staticClass:"aselect",attrs:{"data-value":t.value,"data-list":t.$store.state.history.allGrade,tabindex:"0"},on:{focusout:t.handleFocusOut}},[n("div",{staticClass:"selector",on:{click:function(e){return t.toggle("grade")}}},[n("div",{staticClass:"label"},[n("span",[t._v(t._s(t.value))])]),n("div",{staticClass:"arrow",class:{expanded:t.visible}}),n("div",{class:{hidden:!t.visible,visible:t.visible}},[n("ul",t._l(t.$store.state.history.allGrade,(function(e){return n("li",{key:e.name_en,class:{current:e===t.value},attrs:{value:e.id},on:{click:function(a){return t.select(e)}}},[t._v(t._s(t.getText(e["name_"+t.$store.state.locale])))])})),0)])])]),n("div",{staticClass:"aselect",attrs:{"data-value":t.subjectvalue,"data-list":t.configContent,tabindex:"0"},on:{focusout:t.handleFocusOut}},[n("div",{staticClass:"selector",on:{click:function(e){return t.toggle("subject")}}},[n("div",{staticClass:"label"},[n("span",[t._v(t._s(t.subjectvalue))])]),n("div",{staticClass:"arrow",class:{expanded:t.subjectvisible}}),n("div",{class:{hidden:!t.subjectvisible,subjectvisible:t.subjectvisible}},[n("ul",t._l(t.configContent,(function(e){return n("li",{key:e.name_en,class:{current:e===t.subjectvalue},attrs:{value:{id:e.id,text:e.name_en}},on:{click:function(a){return t.subjectselect(e)}}},[t._v(t._s(t.getText(e["name_"+t.$store.state.locale])))])})),0)])])])])])])])],1)]),t.topic.selected?t._e():n("div",{staticClass:"SubjectColor w-100"},[t.subjectContent?n("div",{staticClass:"w-100 justify-content-center"},[n("b-card",{staticStyle:{background:"transparent !important"},attrs:{"no-body":""}},[n("b-tabs",{staticClass:"tab-header",attrs:{card:"",align:"center"},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[[n("div",{staticClass:"book-tab"},[n("div",{staticClass:"topicbtns bookbtn col-xs-10 col-sm-10 col-md-2 col-xl-2 justify-content-center"},[t.showBook?n("button",{staticClass:"active subject-title-btn justify-content-center",attrs:{type:"button"},on:{click:function(e){return t.handleBookView()}}},[n("b-icon",{staticStyle:{"margin-right":"10px"},attrs:{icon:"book"}}),t._v("\n                  "+t._s(t.getBookName())+"\n                ")],1):t._e()])]),t._l(t.subjectContent,(function(e){return n("b-tab",{key:e.id,staticClass:"text justify-content-center",attrs:{title:t.getText(e["name_"+t.$store.state.locale])},on:{click:t.shiftBelow}},[e["TopicSubTopics"].length>0?n("div",[n("div",{staticClass:"row justify-content-center sqbox"},t._l(e["TopicSubTopics"],(function(a){return n("div",{key:a.id,staticClass:"list pointer Subject-Subtopics col-offset-4 col-xs-12 col-sm-4 col-md-2 col-lg-2",attrs:{span:"2"},on:{click:function(n){return t.getSubSubject(a,e,"Topic")}}},[a.thumbnail?n("div",{staticClass:"TopicsIcon1"},[n("img",{attrs:{src:t.getImgUrl(a.thumbnail),alt:t.getText(a["name_"+t.$store.state.locale]),title:t.getText(a["name_"+t.$store.state.locale])}})]):t._e(),n("div",{staticClass:"TopicsTitle"},[t._v(t._s(t.getText(a["name_"+t.$store.state.locale])))])])})),0)]):t._e()])}))]],2)],1)],1):t._e()]),t.subjectBreadCrumb.subTitle["name_"+t.$store.state.locale]?n("div",{staticClass:"Breadcrumbtitle"},[t.subjectBreadCrumb.subTitle["name_"+t.$store.state.locale]?n("div",{staticClass:"topicbtns backbtn col-xs-10 col-sm-10 col-md-10 col-lg-10 col-xl-3 justify-content-center"},[n("button",{staticClass:"active subject-title-btn justify-content-center",attrs:{type:"button"},on:{click:t.backStep}},[n("b-icon",{attrs:{icon:"caret-left-fill"}}),t._v("Back\n      ")],1),t.subjectBreadCrumb.subTitle["name_"+t.$store.state.locale]?n("div",{staticClass:"topicbtns bookbtn"},[t.showBook?n("button",{staticClass:"active subject-title-btn justify-content-center",attrs:{type:"button"},on:{click:function(e){return t.handleBookView()}}},[n("b-icon",{staticStyle:{"margin-right":"10px"},attrs:{icon:"book"}}),t._v("\n          "+t._s(t.getBookName())+"\n        ")],1):t._e()]):t._e()]):t._e(),n("div",{staticClass:"topicbtns breadcrumbtext col-xs-10 col-sm-10 col-md-10 col-lg-6 col-xl-6 justify-content-center"},[t.subjectBreadCrumb.subTitle["name_"+t.$store.state.locale]?n("h1",[t.subjectBreadCrumb.subTitle?n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"BreadcrumbHeader",class:t.classObject,staticStyle:{"text-decoration":"underline"},attrs:{title:t.getText(t.subjectBreadCrumb.subTitle["name_"+t.$store.state.locale])},on:{click:t.backToSubject}},[t._v("\n          "+t._s(t.getText(t.subjectBreadCrumb.subTitle["name_"+t.$store.state.locale]))+"\n        ")]):t._e(),t._m(0),t.subjectBreadCrumb.courseTitle&&""!==t.subjectBreadCrumb.courseName?n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"BreadcrumbHeader w-100",staticStyle:{"text-decoration":"underline"},attrs:{title:t.getText(t.subjectBreadCrumb.courseTitle["name_"+t.$store.state.locale])},on:{click:t.backToTopic}},[t._v("\n          "+t._s(t.getText(t.subjectBreadCrumb.courseTitle["name_"+t.$store.state.locale]))+"\n        ")]):t._e(),t.subjectBreadCrumb.courseTitle&&""===t.subjectBreadCrumb.courseName?n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"BreadcrumbHeader",staticStyle:{color:"#fff","text-decoration":"none",cursor:"default"},attrs:{title:t.getText(t.subjectBreadCrumb.courseTitle["name_"+t.$store.state.locale])}},[t._v("\n          "+t._s(t.getText(t.subjectBreadCrumb.courseTitle["name_"+t.$store.state.locale]))+"\n        ")]):t._e(),t.subjectBreadCrumb.courseName?n("span",{staticStyle:{color:"#fff","text-decoration":"none",cursor:"default"}},[n("img",{staticStyle:{"margin-left":"10px","margin-right":"10px",width:"20px",height:"13px","margin-top":"-4px"},attrs:{src:a("f590"),alt:"RightArrow",height:"10",width:"10"}}),n("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"BreadcrumbHeader",staticStyle:{"text-decoration":"none",cursor:"default"},attrs:{title:t.getText(t.subjectBreadCrumb.courseName["name_"+t.$store.state.locale])}},[t._v("\n            "+t._s(t.getText(t.subjectBreadCrumb.courseName["name_"+t.$store.state.locale]).length>30?t.getText(t.subjectBreadCrumb.courseName["name_"+t.$store.state.locale]).substring(0,30)+"...":t.getText(t.subjectBreadCrumb.courseName["name_"+t.$store.state.locale]))+"\n          ")])]):t._e()]):t._e()]),n("div",{staticClass:"Content-type col-xs-10 col-sm-10 col-md-10 col-lg-3 col-xl-3 justify-content-center"},[n("div",{staticClass:"aselect",attrs:{"data-value":t.coreContentSelected,"data-list":t.coreContents,tabindex:"0"},on:{focusout:t.handleFocusOut}},[n("div",{staticClass:"selector",style:""===t.subjectBreadCrumb.courseName?"":"display:none;",on:{click:function(e){return t.toggle("content")}}},[n("div",{staticClass:"label"},[n("span",[t._v(t._s(t.coreContents[t.coreContentSelected].text))])]),n("div",{staticClass:"arrow",class:{expanded:t.contentvisible}}),n("div",{class:{hidden:!t.contentvisible,contentvisible:t.contentvisible}},[n("ul",t._l(t.coreContents,(function(e){return n("li",{key:e.value,on:{click:function(a){return t.updateContent(e.value)}}},[t._v(t._s(e.text))])})),0)])])])])]):t._e(),t.topic.selected&&!1===t.courseSelected?n("div",{staticClass:"w-100 SubjectColor"},[n("div",{staticClass:"w-100 justify-content-center"},[n("div",{staticClass:"SubjectDetail justify-content-center flex-row w-100 flex-wrap col-12 col-xs-12 col-sm-12 col-md-12 col-lg-12"},t._l(t.topic.data,(function(e){return n("div",{key:e.id,staticClass:"pointer chapter col-12 col-xs-12 col-sm-6 col-md-6 col-lg-4 col-xl-3"},[n("Card",{class:{"core-content":1===e.core,"supplemetary-content":2===e.core},attrs:{header:t.getText(e["content_type_"+t.$store.state.locale]),localTitle:e["content_type_en"],companyLogo:e.content_owner_logo,companyTitle:e.content_owner_name},scopedSlots:t._u([{key:"contents",fn:function(){return[e.content?n("div",{staticClass:"simulationBanner",on:{click:function(a){return t.getData(e["content_type_en"],e["content"],e)}}},[null===e.thumbnail?n("div",{staticClass:"TopicsIcon"},[n("pdf",{staticStyle:{"margin-left":"auto","margin-right":"auto",width:"50%"},attrs:{src:t.getPDFview(e.content)}})],1):n("div",{staticClass:"TopicsIcon"},[n("img",{attrs:{src:t.getTopicImgUrl(e.thumbnail),alt:t.getText(e["name_"+t.$store.state.locale]),title:t.getText(e["name_"+t.$store.state.locale])}})]),n("div",{staticClass:"SubtopicsTitle"},[t._v(t._s(t.getText(e["name_"+t.$store.state.locale])))])]):t._e()]},proxy:!0}],null,!0)})],1)})),0)])]):t._e(),t.myTopic?t._e():n("div",{staticClass:"w-100 justify-content-center"},[n("div",{staticClass:"container w-100 text-center"},[n("div",{staticClass:"objectanimte"},["np"===this.$store.state.locale?n("span",{staticClass:"selectSubject",staticStyle:{color:"#5b5b5b !important"}},[t._v("कृपया विषय छान्नु होला।")]):n("span",{staticClass:"selectSubject",staticStyle:{color:"#5b5b5b !important"}},[t._v("Please select Subject.")])])]),t._m(1)]),t.simulationData.active?n("Simulation",{attrs:{simulationData:t.simulationData}}):t._e(),t.videoData.active?n("Video",{attrs:{videoData:t.videoData}}):t._e(),t.documentData.active?n("Document2",{attrs:{documentData:t.documentData}}):t._e(),t.audioData.active?n("Audio",{attrs:{audioData:t.audioData}}):t._e(),t.taskData.active?n("Task",{attrs:{taskData:t.taskData}}):t._e(),t.audioTaskData.active?n("AudioTask",{attrs:{audioTaskData:t.audioTaskData}}):t._e()],1)},S=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("img",{staticStyle:{"margin-left":"10px","margin-right":"10px",width:"20px",height:"13px","margin-top":"-4px"},attrs:{src:a("f590"),alt:"RightArrow",height:"10",width:"10"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-100 my-auto"},[n("img",{staticClass:"SelectTopicsimg",attrs:{src:a("c8c5"),alt:"Select Topics",title:"Select topics"}})])}],D=(a("28a5"),a("b54a"),a("7f7f"),a("ac6a"),a("456d"),a("6762"),a("2fdb"),a("7514"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.pdf?a("div",{staticClass:"pdfviewr",style:t.style,attrs:{id:"app"}},[a("WebViewer",{attrs:{path:"/lib",url:t.src}})],1):a("div",[a("iframe",{staticStyle:{height:"860px !important",width:"80%",margin:"60px 10% !important"},attrs:{src:t.src,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms"}})])}),R=[],$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"viewer"})},P=[],N=a("d7cb"),E=a.n(N),F={name:"WebViewer",props:{path:String,url:String},mounted:function(){E()({path:this.path,initialDoc:this.url},this.$refs.viewer).then((function(t){t.setHeaderItems((function(e){e.push({type:"actionButton",initialState:"Count",img:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="15px" height="15px" viewBox="0 0 451.847 451.847" style="enable-background:new 0 0 451.847 451.847;" xml:space="preserve"> <g> <path d="M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751   c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0   c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"/> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>',onClick:function(){var e=t.getCurrentPageNumber(),a=t.getPageCount(),n=e===a;n?t.goToFirstPage():t.goToNextPage()}})})),t.setHeaderItems((function(e){e.push({type:"actionButton",img:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Capa_1" x="0px" y="0px" width="15px" height="15px" viewBox="0 0 451.847 451.846" style="enable-background:new 0 0 451.847 451.846;" xml:space="preserve"> <g> <path d="M248.292,106.406l194.281,194.29c12.365,12.359,12.365,32.391,0,44.744c-12.354,12.354-32.391,12.354-44.744,0   L225.923,173.529L54.018,345.44c-12.36,12.354-32.395,12.354-44.748,0c-12.359-12.354-12.359-32.391,0-44.75L203.554,106.4   c6.18-6.174,14.271-9.259,22.369-9.259C234.018,97.141,242.115,100.232,248.292,106.406z"/> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>',onClick:function(){var e=t.getCurrentPageNumber(),a=(t.getPageCount(),1===e);a?t.goToLastPage():t.goToPrevPage()}})})),t.disableElements(["freeHandToolGroupButton","freeHandToolButton","textToolGroupButton","miscToolGroupButton","notesPanelButton","outlinesPanelButton"]),t.disableTools(["AnnotationEdit","TextSelect","Pan","CropPage","MarqueeZoomTool","AnnotationEraserTool","AnnotationCreateSticky","AnnotationCreateFreeHand","AnnotationCreateTextHighlight","AnnotationCreateTextUnderline","AnnotationCreateTextSquiggly","AnnotationCreateTextStrikeout","AnnotationCreateFreeText","AnnotationCreateCallout","AnnotationCreateSignature","AnnotationCreateLine","AnnotationCreateArrow","AnnotationCreatePolyline","AnnotationCreateStamp","AnnotationCreateRectangle","AnnotationCreateEllipse","AnnotationCreatePolygon","AnnotationCreatePolygonCloud","AnnotationCreateDistanceMeasurement","AnnotationCreatePerimeterMeasurement","AnnotationCreateAreaMeasurement","signatureToolButton"]),t.enableElements(["viewControlsButton","fitButton","defaultPageTransitionButton","pageNavOverlay"])}))}},O=F,A=(a("812c"),Object(r["a"])(O,$,P,!1,null,"4a6a7b9a",null)),L=A.exports,B={props:["config","documentData"],name:"app",components:{WebViewer:L},mounted:function(){this.documentData.url.includes(".pdf")||(this.pdf=!1)},created:function(){if(this.src="External"===this.documentData.linkType?this.documentData.url:"https://learning.cehrd.edu.np/node/"+this.documentData.url,this.documentData.isBook&&(this.style=""),this.$store.state.history){var t=this.$store.state.history.grade.name_en,e=this.$store.state.history.subjectName.name_en,a=this.$store.state.history.topic.name_en;this.$ga.page({type:"document",title:"https://learning.cehrd.edu.np/node/"+this.documentData.url,location:"document "+t+" > "+e+" > "+a})}},data:function(){return{publicPath:"/",src:null,pdf:!0,style:"margin: 60px 10% !important; border: 1px solid #e0e0e0 !important"}}},U=B,I=(a("b856"),Object(r["a"])(U,D,R,!1,null,null,null)),G=I.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("div",{staticClass:"card-header w-100",staticStyle:{display:"block"}},[n("div",{staticClass:"cardH1 w-20"},[n("div",{staticClass:"card-Icon justify-content-center w-100"},[n("img",{attrs:{src:a("1977")("./"+t.lTitle+"-icon.svg"),alt:t.lTitle}})])]),n("div",{staticClass:"cardH2 w-70",staticStyle:{display:"inline-block"}},[n("div",{staticClass:"cardTitle w-100"},[t._v(t._s("AudioAndTask"===t.title?"Audio And Task":t.title))])]),n("div",{staticClass:"cardH3 w-10",staticStyle:{float:"right",padding:"7px 20px"}},[n("div",{staticClass:"cardLogo w-100"},[n("div",[t.logo?n("img",{attrs:{src:t.getCardImg(t.logo),alt:t.companyTitle,title:t.companyTitle}}):n("span",{attrs:{title:t.companyTitle}},[t._v(t._s(t.companyTitle.substring(0,1)))])])])])]),n("div",{staticClass:"card-body"},[n("div",{staticClass:"card-content"},[t._t("contents")],2)])])},q=[],H=(a("a4a4"),{name:"Card",props:["header","companyLogo","companyTitle","localTitle"],data:function(){return{title:this.header,fileType:"",logo:this.companyLogo,cTitle:this.companyTitle,lTitle:this.localTitle}},watch:{header:function(){this.title=this.header,this.lTitle=this.localTitle}},methods:{getCardImg:function(t){if(t)return"".concat("https://learning.cehrd.edu.np/node/","Images/").concat(t)}}}),z=H,V=(a("0f47"),Object(r["a"])(z,M,q,!1,null,"38292a3f",null)),J=V.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center w-100"},[a("div",{staticClass:"SimulationContent d-flex flex-column w-100"},[a("iframe",{attrs:{src:t.iframeSrc,sandbox:"allow-same-origin allow-scripts allow-popups allow-forms"},on:{load:t.removeHeaderOnIframeLoad}})])])},Y=[],Z=(a("e346"),{props:["config","simulationData"],data:function(){return{frameHasLoaded:!1,interval:null}},methods:{removeHeaderOnIframeLoad:function(){if(document.querySelector("iframe").contentDocument){var t=document.querySelector("iframe").contentDocument;void 0!==t.querySelector("header")&&(t.querySelector("#activity-page-menu-img").remove(),t.querySelector(".ole-logo").parentElement.removeAttribute("href"))}}},computed:{iframeSrc:function(){var t=this;if(null!==this.simulationData.url){var e=this.simulationData.url;if("E-PATH"===this.simulationData.owner){if(e=e.split("?").map((function(e,a){return e.includes("lang")?e.split("&").map((function(e){return e.includes("lang")?"en"===t.$store.state.locale||"english"===t.$store.state.subjectName.toLowerCase()?"lang=en":"np"===t.$store.state.locale||"nepali"===t.$store.state.subjectName.toLowerCase()?"lang=np":"lang=".concat(t.$store.state.locale):e})).join("&"):e})).join("?"),"External"===this.simulationData.linkType){var a=this.$store.state.history.grade.name_en,n=this.$store.state.history.subjectName.name_en,o=this.$store.state.history.topic.name_en;return this.$ga.page({title:"https://learning.cehrd.edu.np/node/"+e,location:"simulation "+a+" > "+n+" > "+o}),e}return e.includes("learning.cehrd")?e:"https://learning.cehrd.edu.np/node/"+e}if("External"===this.simulationData.linkType){var s=this.$store.state.history.grade.name_en,i=this.$store.state.history.subjectName.name_en,r=this.$store.state.history.topic.name_en;return this.$ga.page({type:"simulation",title:"https://learning.cehrd.edu.np/node/"+e,location:"simulation "+s+" > "+i+" > "+r}),e}return e.includes("learning.cehrd")?e:"https://learning.cehrd.edu.np/node/"+e}}}}),K=Z,Q=(a("7840"),a("6912"),Object(r["a"])(K,W,Y,!1,null,"2bcd56e5",null)),X=Q.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.uurl?a("b-embed",{attrs:{type:"iframe",aspect:"21by9",src:t.uurl,allowfullscreen:""}}):a("div",{staticClass:"videoDetail w-100 justify-content-center"},[a("video",{staticClass:"w-80",staticStyle:{"margin-bottom":"50px"},attrs:{autoplay:"",controls:"",src:t.url}})])},et=[],at={props:["config","videoData"],data:function(){return{url:null,uurl:null}},mounted:function(){this.url="External"===this.videoData.linkType||this.videoData.url.includes("learning.cehrd")?this.videoData.url:"https://learning.cehrd.edu.np/node/"+this.videoData.url,this.url.includes("embed")&&(this.uurl=this.url.substring(this.url.indexOf("src=")+5,this.url.indexOf('" frameborder')));var t=this.$store.state.history.grade.name_en,e=this.$store.state.history.subjectName.name_en,a=this.$store.state.history.topic.name_en;this.$ga.page({title:"https://learning.cehrd.edu.np/node/"+this.videoData.url,location:"video "+t+" > "+e+" > "+a})}},nt=at,ot=Object(r["a"])(nt,tt,et,!1,null,null,null),st=ot.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"videoDetail w-100 justify-content-center"},[a("audio",{staticClass:"w-80",attrs:{controls:""}},[a("source",{attrs:{src:t.url,type:"audio/mpeg"}}),t._v("Your browser does not support the audio element.\n  ")])])},rt=[],ct={props:["config","audioData"],data:function(){return{url:null}},mounted:function(){this.url="External"===this.audioData.linkType?this.audioData.url:"https://learning.cehrd.edu.np/node/"+this.audioData.url;var t=this.$store.state.history.grade.name_en,e=this.$store.state.history.subjectName.name_en,a=this.$store.state.history.topic.name_en;this.$ga.page({title:"https://learning.cehrd.edu.np/node/"+this.audioData.url,location:"document "+t+" > "+e+" > "+a})}},lt=ct,ut=(a("d4ac"),Object(r["a"])(lt,it,rt,!1,null,"a5cc2d38",null)),dt=ut.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center w-100"},[a("div",{staticClass:"Document-Content d-flex flex-column w-80",staticStyle:{"margin-bottom":"60px"}},[a("iframe",{attrs:{src:t.src}})])])},mt=[],ht={props:["config","taskData"],data:function(){return{src:null}},mounted:function(){this.src="External"===this.taskData.linkType?this.taskData.url:"https://learning.cehrd.edu.np/node/"+this.taskData.url,this.$ga.page({type:"Task",url:this.src})}},ft=ht,gt=(a("1342"),Object(r["a"])(ft,pt,mt,!1,null,"71cc72fc",null)),bt=gt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"videoDetail w-100 justify-content-center"},[a("audio",{staticClass:"w-80",attrs:{controls:""}},[a("source",{attrs:{src:t.audioLink,type:"audio/mpeg"}}),t._v("Your browser does not support the audio element.\n  ")]),a("div",{staticClass:"row justify-content-center w-100"},[a("div",{staticClass:"Document-Content d-flex flex-column w-80",staticStyle:{"margin-bottom":"60px"}},[""!==this.src?a("div",[a("div",{staticClass:"PDFBtn"},[a("button",{staticClass:"btn",attrs:{id:"prev",disabled:!(t.pdfPage>1)},on:{click:function(e){return t.prevpage()}}},[t._v("Previous")]),t._v("\n          "+t._s(t.currentPage)+" / "+t._s(t.pageCount)+"\n          "),a("button",{staticClass:"btn",attrs:{id:"next",disabled:!(t.pageCount>t.pdfPage)},on:{click:function(e){return t.nextpage()}}},[t._v("Next")])]),a("pdf",{attrs:{src:t.taskLink,page:t.pdfPage},on:{"num-pages":function(e){t.pageCount=e},"page-loaded":function(e){t.currentPage=e}}},[a("template",{slot:"loading"},[t._v("loading content here...")])],2),a("div",{staticClass:"PDFBtn justify-content-center"},[a("button",{staticClass:"btn",attrs:{id:"prev",disabled:!(t.pdfPage>1)},on:{click:function(e){return t.prevpage()}}},[t._v("Previous")]),t._v("\n          "+t._s(t.currentPage)+" / "+t._s(t.pageCount)+"\n          "),a("button",{staticClass:"btn",attrs:{id:"next",disabled:!(t.pageCount>t.pdfPage)},on:{click:function(e){return t.nextpage()}}},[t._v("Next")])])],1):t._e()])])])},_t=[],yt=a("858e"),Ct={props:["config","audioTaskData"],components:{pdf:yt["a"]},data:function(){return{audioLink:null,taskLink:null,currentPage:0,pageCount:0,pdfPage:1,src:null,scale:"page-width"}},mounted:function(){"External"===this.audioTaskData.linkType?(this.audioLink=this.audioTaskData.audioLink,this.taskLink=this.audioTaskData.taskLink):(this.audioLink="https://learning.cehrd.edu.np/node/"+this.audioTaskData.audioLink,this.taskLink="https://learning.cehrd.edu.np/node/"+this.audioTaskData.taskLink),this.$ga.page({type:"Audio And Task",AudioURL:this.audioLink,TaskURL:this.taskLink})},methods:{nextpage:function(){this.pdfPage++},prevpage:function(){this.pdfPage--}}},wt=Ct,kt=(a("0ee5"),Object(r["a"])(wt,vt,_t,!1,null,"540afc76",null)),Tt=kt.exports,xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 DocumentBody"},[a("div",{staticClass:"container justify-content-center"},[a("div",{staticClass:"row Document-Content justify-content-center d-flex flex-column"},[""!==this.src?a("div",[a("div",{staticClass:"PDFBtn"},[a("button",{staticClass:"btn",attrs:{id:"prev",disabled:!(t.pdfPage>1)},on:{click:function(e){return t.homePage()}}},[t._v("Home")]),a("button",{staticClass:"btn",attrs:{id:"prev",disabled:!(t.pdfPage>1)},on:{click:function(e){return t.prevpage()}}},[t._v("Previous")]),t._v("\n          "+t._s(t.currentPage)+" / "+t._s(t.pageCount)+"\n          "),a("button",{staticClass:"btn",attrs:{id:"next",disabled:!(t.pageCount>t.pdfPage)},on:{click:function(e){return t.nextpage()}}},[t._v("Next")]),a("button",{staticClass:"btn",attrs:{id:"last",disabled:!(t.pageCount>t.pdfPage)},on:{click:function(e){return t.lastPage()}}},[t._v("Last Page")])]),a("pdf",{attrs:{src:t.src,page:t.pdfPage},on:{"num-pages":function(e){t.pageCount=e},"page-loaded":function(e){t.currentPage=e}}},[a("template",{slot:"loading"},[t._v("loading content here...")])],2),a("div",{staticClass:"PDFBtn justify-content-center"},[a("button",{staticClass:"btn",attrs:{id:"home",disabled:!(t.pdfPage>1)},on:{click:function(e){return t.homePage()}}},[t._v("Home")]),a("button",{staticClass:"btn",attrs:{id:"prev",disabled:!(t.pdfPage>1)},on:{click:function(e){return t.prevpage()}}},[t._v("Previous")]),t._v("\n          "+t._s(t.currentPage)+" / "+t._s(t.pageCount)+"\n          "),a("button",{staticClass:"btn",attrs:{id:"next",disabled:!(t.pageCount>t.pdfPage)},on:{click:function(e){return t.nextpage()}}},[t._v("Next")]),a("button",{staticClass:"btn",attrs:{id:"last",disabled:!(t.pageCount>t.pdfPage)},on:{click:function(e){return t.lastPage()}}},[t._v("Last Page")])])],1):t._e()])])])},jt=[],St={props:["config","documentData"],components:{pdf:yt["a"]},name:"Document",data:function(){return{currentPage:0,pageCount:0,pdfPage:1,src:null,scale:"page-width"}},mounted:function(){if(this.src="External"===this.documentData.linkType?this.documentData.url:"https://learning.cehrd.edu.np/node/"+this.documentData.url,this.$store.state.history){var t=this.$store.state.history.grade.name_en,e=this.$store.state.history.subjectName.name_en,a=this.$store.state.history.topic.name_en;this.$ga.page({type:"document",title:"https://learning.cehrd.edu.np/node/"+this.documentData.url,location:"document "+t+" > "+e+" > "+a})}},methods:{nextpage:function(){this.pdfPage++},prevpage:function(){this.pdfPage--},homePage:function(){this.pdfPage=1},lastPage:function(){this.pdfPage=this.pageCount}}},Dt=St,Rt=(a("97ee"),Object(r["a"])(Dt,xt,jt,!1,null,"499e0704",null)),$t=Rt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 DocumentBody"},[a("div",{staticClass:"container justify-content-center"},[a("div",{staticClass:"row Document-Content justify-content-center d-flex flex-column"},[""!==this.src?a("div",[a("div",{staticClass:"PDFBtn"},[a("button",{staticClass:"btn",attrs:{id:"home",disabled:!(t.pdfPage>1)},on:{click:function(e){return t.homePage()}}},[t._v("Home")]),a("button",{staticClass:"btn",attrs:{id:"prev",disabled:!(t.pdfPage>1)},on:{click:function(e){return t.prevpage()}}},[t._v("Previous")]),t._v("\n          "+t._s(t.currentPage)+" / "+t._s(t.pageCount)+"\n          "),a("button",{staticClass:"btn",attrs:{id:"next",disabled:!(t.pageCount>t.pdfPage)},on:{click:function(e){return t.nextpage()}}},[t._v("Next")]),a("button",{staticClass:"btn",attrs:{id:"last",disabled:!(t.pageCount>t.pdfPage)},on:{click:function(e){return t.lastPage()}}},[t._v("Last Page")])]),a("pdf",{attrs:{src:t.src,page:t.pdfPage,scale:t.scale},on:{"num-pages":function(e){t.pageCount=e},"page-loaded":function(e){t.currentPage=e},"update:scale":function(e){t.scale=e}}},[a("template",{slot:"loading"},[t._v("loading content here...")])],2),a("div",{staticClass:"PDFBtn justify-content-center"},[a("button",{staticClass:"btn",attrs:{id:"home",disabled:!(t.pdfPage>1)},on:{click:function(e){return t.homePage()}}},[t._v("Home")]),a("button",{staticClass:"btn",attrs:{id:"prev",disabled:!(t.pdfPage>1)},on:{click:function(e){return t.prevpage()}}},[t._v("Previous")]),t._v("\n          "+t._s(t.currentPage)+" / "+t._s(t.pageCount)+"\n          "),a("button",{staticClass:"btn",attrs:{id:"next",disabled:!(t.pageCount>t.pdfPage)},on:{click:function(e){return t.nextpage()}}},[t._v("Next")]),a("button",{staticClass:"btn",attrs:{id:"last",disabled:!(t.pageCount>t.pdfPage)},on:{click:function(e){return t.lastPage()}}},[t._v("Last Page")])])],1):t._e()])])])},Nt=[],Et={props:["config","documentData"],components:{pdf:yt["a"]},name:"Document",data:function(){return{currentPage:0,pageCount:0,pdfPage:1,src:null,scale:"page-width"}},mounted:function(){this.src="External"===this.documentData.linkType?this.documentData.url:"https://learning.cehrd.edu.np/node/"+this.documentData.url;var t=this.$store.state.history.grade.name_en,e=this.$store.state.history.subjectName.name_en,a=this.$store.state.history.topic.name_en;this.$ga.page({type:"document",title:"https://learning.cehrd.edu.np/node/"+this.documentData.url,location:"document "+t+" > "+e+" > "+a})},methods:{nextpage:function(){this.pdfPage++},prevpage:function(){this.pdfPage--},homePage:function(){this.pdfPage=1},lastPage:function(){this.pdfPage=this.pageCount}}},Ft=Et,Ot=(a("57d6"),Object(r["a"])(Ft,Pt,Nt,!1,null,"313d6a82",null)),At=Ot.exports,Lt=(a("88d6"),{props:["config"],data:function(){return{classObject:"",core:0,selectedSubTopic:"",coreContentSelected:0,coreContents:[{value:"0",text:"All"},{value:"1",text:"Core"},{value:"2",text:"Supplementary"}],value:null,subjectvalue:null,visible:!1,subjectvisible:!1,contentvisible:!1,myTopic:!1,subTopicsList:[],topicList:[],step:0,selected:"",configContent:null,subjectContent:null,topic:{data:null,selected:!1},color:"",gradeColor:"",gradebtnColor:"",bookInfo:{},showBook:"",SubjectColor:"",subjectTitle:"",breadCrumb:"",subject:[],embed:{src:"",title:""},simulationData:{active:!1,url:"",type:"",linkType:"",owner:""},videoData:{active:!1,url:"",type:"",linkType:""},audioData:{active:!1,url:"",type:"",linkType:""},taskData:{active:!1,url:"",type:"",linkType:""},audioTaskData:{active:!1,audioLink:"",taskLink:"",type:"",linkType:""},documentData:{active:!1,url:"",type:"",linkType:""},documentDataModal:{active:!1,url:"",type:"",linkType:"",isBook:!1},pageName:"",subjectBreadCrumb:{title:"",subTitle:"",courseTitle:"",courseName:""},courseSelected:!1}},components:{Card:J,Simulation:X,Video:st,Document:$t,Audio:dt,Task:bt,AudioTask:Tt,DocumentModal:At,pdf:yt["a"],Document2:G},computed:Object(m["b"])(["locale"]),watch:{locale:function(t,e){var a=this;t!==e&&(this.value=this.$store.state.history.grade["name_".concat(this.$store.state.locale)],this.subjectvalue=this.configContent.find((function(t){return t.id===a.subject_id}))["name_".concat(this.$store.state.locale)])}},created:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get("subjects/ugetSubjectByGrade/".concat(this.config.id));case 2:e=t.sent,"success"===e.data.response&&(this.configContent=e.data.data,this.Subject={id:e.data.data[0].id,text:e.data.data[0].name_en},this.subjectvalue=e.data.data[0]["name_".concat(this.$store.state.locale)],this.getSubjectTopics(this.Subject)),this.selected=this.$store.state.history.grade.name_en,this.value=this.$store.state.history.grade["name_".concat(this.$store.state.locale)],this.handleGetGradeColor(),this.config.history&&Object.keys(this.config.history).includes("subject")&&this.getSubject(this.config.history.subject),null!==this.config.history&&void 0!==this.config.history&&Object.keys(this.config.history).includes("history")&&(this.subjectTitle=this.config.history.topic.name,this.topic.data=this.config.history.topic,this.topic.selected=!0,this.$ga.page({subjectTitle:this.subjectTitle,topic:this.topic.data}));case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{shiftBelow:function(){window.scroll(0,1500)},handleFocusOut:function(){this.visible=!1,this.subjectvisible=!1,this.contentvisible=!1},toggle:function(t){"grade"===t&&(this.visible=!this.visible),"subject"===t&&(this.subjectvisible=!this.subjectvisible),"content"===t&&(this.contentvisible=!this.contentvisible)},select:function(t){this.value=t["name_".concat(this.$store.state.locale)],this.showBook=!1;var e=this.$store.state.history.allGrade.filter((function(e){return e["name_en"]===t.name_en})),a=this.$store.state.history;a.grade=e[0],a.subject="",this.breadCrumb="",this.subjectBreadCrumb={title:"",subTitle:"",courseTitle:"",courseName:""},this.handleClearData(),this.topic.selected=!1,this.$store.dispatch("history",a),this.handleSubject()},subjectselect:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in this.subjectvalue=e["name_".concat(this.$store.state.locale)],this.subject_id=e.id,this.backToSubject(),a=!1,this.myTopic=!0,this.configContent)this.configContent.hasOwnProperty(n)&&this.configContent[n]["id"]==this.subject_id&&(this.configContent[n]["content"]||this.configContent[n]["content_1"])&&(a=!0,this.bookInfo.content=this.configContent[n]["content"],this.bookInfo.content_1=this.configContent[n]["content_1"],this.bookInfo.name_en=this.configContent[n]["name_en"],this.bookInfo.name_np=this.configContent[n]["name_np"]);return"english"===e.name_en.toLowerCase()&&this.$store.commit("toggleLocale","en"),"nepali"===e.name_en.toLowerCase()&&this.$store.commit("toggleLocale","np"),this.$store.commit("setSubjectName",e.name_en.toLowerCase()),this.showBook=a,t.next=12,C.get("topics/ugetTopicBySubject/".concat(this.subject_id));case 12:o=t.sent,"success"===o.data.response?this.subjectContent=o.data.data:this.subjectContent={};case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getTopicImgUrl:function(t){return"".concat("https://learning.cehrd.edu.np/node/").concat(t)},getPDFview:function(t){return"".concat("https://learning.cehrd.edu.np/node/").concat(t)},getImgUrl:function(t){return"".concat("https://learning.cehrd.edu.np/node/").concat(t)},handleExternalLink:function(t){window.open(t,"_blank")},handleGetGradeColor:function(){"Grade 6"===this.$store.state.history.grade.name_en?(this.color="blue",this.SubjectColor="blueSubject",this.gradebtnColor="bluebtn",this.gradeColor="jumbotronRed"):"Grade 7"===this.$store.state.history.grade.name_en?(this.color="yellow",this.SubjectColor="yellowSubject",this.gradebtnColor="yellowbtn",this.gradeColor="jumbotronGreen"):"Grade 8"===this.$store.state.history.grade.name_en&&(this.color="pink",this.SubjectColor="pinkSubject",this.gradebtnColor="pinkbtn",this.gradeColor="jumbotronBlue")},handleSubject:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get("subjects/ugetSubjectByGrade/".concat(this.$store.state.history.grade.id));case 2:e=t.sent,"success"===e.data.response&&(this.configContent=e.data.data,this.Subject={id:e.data.data[0].id,text:e.data.data[0].name_en},this.subjectvalue=e.data.data[0]["name_".concat(this.$store.state.locale)],this.getSubjectTopics(this.Subject)),this.handleGetGradeColor(),this.subjectContent=null;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleClearData:function(){this.courseSelected=!1,this.simulationData.active=!1,this.simulationData.url="",this.simulationData.type="",this.simulationData.linkType="",this.simulationData.owner="",this.videoData.active=!1,this.videoData.url="",this.videoData.type="",this.videoData.linkType="",this.audioData.active=!1,this.audioData.url="",this.audioData.type="",this.audioData.linkType="",this.audioTaskData.active=!1,this.audioTaskData.audioLink="",this.audioTaskData.taskLink="",this.audioTaskData.type="",this.audioTaskData.linkType="",this.taskData.active=!1,this.taskData.url="",this.taskData.type="",this.taskData.linkType="",this.documentData.active=!1,this.documentData.url="",this.documentData.type="",this.documentData.linkType="",this.documentDataModal.active=!1,this.documentDataModal.url="",this.documentDataModal.type="",this.documentDataModal.linkType="",this.documentDataModal.isBook=!1},handleGrade:function(t){this.showBook=!1;var e=this.$store.state.history.allGrade.filter((function(e){return e["name_en"]===t.target.value})),a=this.$store.state.history;a.grade=e[0],a.subject="",this.breadCrumb="",this.subjectBreadCrumb={title:"",subTitle:"",courseTitle:"",courseName:""},this.handleClearData(),this.topic.selected=!1,this.$store.dispatch("history",a),this.handleSubject()},backToSubject:function(){this.subjectBreadCrumb.courseTitle="",this.subjectBreadCrumb.subTitle="",this.subjectBreadCrumb.courseName="",this.topic.selected=!1,this.breadCrumb="",this.handleClearData()},backToTopic:function(){this.subjectBreadCrumb.courseName="",this.pageName="Topic",this.breadCrumb="",this.handleClearData(),this.getSubSubject(this.$store.state.history.originalTopic,this.$store.state.history.subjectName,"Topic")},backToGrade:function(){this.breadCrumb="",this.$emit("change-component",{component:"Dashboard",data:null})},getSubject:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.grade=e.target.value,data.content||data.content_1?this.showBook=!0:this.showBook=!1,"english"===data.name_en.toLowerCase()&&this.$store.commit("toggleLocale","en"),"nepali"===data.name_en.toLowerCase()&&this.$store.commit("toggleLocale","ने"),this.topic.selected=!1,t.next=7,C.get("topics/ugetTopicBySubject/".concat(data.id));case 7:a=t.sent,"success"===a.data.response&&(this.subjectContent=a.data.data),n=this.$store.state.history,null==n.subject&&(n.subject=""),this.breadCrumb="",this.handleClearData(),n.subject=data,this.$store.dispatch("history",n),this.subjectTitle=this.$store.state.history.subject.name_en,this.subjectBreadCrumb.title=this.subjectTitle,this.subjectBreadCrumb.subTitle="",this.subjectBreadCrumb.courseTitle="",this.subjectBreadCrumb.courseName="",localStorage.setItem("subhistory",JSON.stringify(n)),window.scroll(0,1e3);case 22:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getSubSubject:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e,a,n){var o,s,i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.pageName=n,!e.link){t.next=3;break}return t.abrupt("return",!1);case 3:return o=this.$store.state.history,s=o.contentType?o.contentType:0,this.selectedSubTopic=e.id,t.next=8,C.get("content/".concat(e.id,"/").concat(s));case 8:i=t.sent,"success"===i.data.response&&(this.topic.data=i.data.data,this.topic.selected=!0,r=this.$store.state.history,r.topic=e,"Topic"===n?(r.originalTopic=e,r.subjectName=a,this.subjectBreadCrumb.subTitle=a,this.subjectBreadCrumb.courseTitle=e):this.subjectBreadCrumb.courseName=this.$store.state.history.topic,r.courseName=a,this.breadCrumb=this.$store.state.history.topic,this.$store.dispatch("history",r),localStorage.removeItem("subhistory"),localStorage.setItem("subhistory",JSON.stringify(r)));case 10:case"end":return t.stop()}}),t,this)})));function e(e,a,n){return t.apply(this,arguments)}return e}(),getData:function(t,e,a){switch(t){case"Simulation":this.simulationData.active=!0,this.simulationData.type=t,this.simulationData.url=e,this.simulationData.owner=a.content_owner_name,this.simulationData.linkType=a.type;break;case"Learning Games":this.simulationData.active=!0,this.simulationData.type=t,this.simulationData.url=e,this.simulationData.owner=a.content_owner_name,this.simulationData.linkType=a.type;break;case"Video":this.videoData.active=!0,this.videoData.type=t,this.videoData.url=e,this.videoData.linkType=a.type;break;case"Document":this.documentData.active=!0,this.documentData.url=e,this.documentData.linkType=a.type;break;case"Book":this.documentData.active=!0,this.documentData.url=e,this.documentData.linkType=a.type;break;case"Audio":this.audioData.active=!0,this.audioData.url=e,this.audioData.linkType=a.type;break;case"Task":this.taskData.active=!0,this.taskData.url=e,this.taskData.linkType=a.type;break;case"Audio And Task":this.audioTaskData.active=!0,this.audioTaskData.audioLink=a.content_1,this.audioTaskData.taskLink=a.content,this.audioTaskData.linkType=a.type;break}this.subjectBreadCrumb.courseName=a,this.courseSelected=!0,this.$emit("change-component",a)},getDocument:function(t,e){this.documentData.active=!0,this.documentData.url=t.docLink},getSimulation:function(t,e){this.simulationData.active=!0,this.simulationData.url=t.url,this.simulationData.type=e},getVideo:function(t,e){this.videoData.active=!0,this.videoData.type=t,this.videoData.url=e},getAudio:function(t){this.audioData.active=!0,this.audioData.url=t.audioLink},getTask:function(t){this.taskData.active=!0,this.taskData.url=t.taskLink},getAudioTask:function(t){this.audioTaskData.active=!0,this.audioTaskData.audioLink=t.content_1,this.audioTaskData.taskLink=t.content},getComponent:function(t,e){var a={url:t.path},n=t.path.split(".")[1];switch(n){case"mp4":a.component="Video";break;case"mkv":a.videos=e,a.component="Video";break}this.$emit("change-component",a)},handleBookView:function(){this.documentDataModal.type="Document";var t=!0;"np"==this.$store.state.locale?(this.embed.title=this.bookInfo.name_np,this.documentDataModal.url=this.bookInfo.content_1,this.bookInfo.content_1||(alert("चयनित विषय नेपालीमा फेला परेन  !!"),t=!1)):(this.embed.title=this.bookInfo.name_en,this.documentDataModal.url=this.bookInfo.content,this.bookInfo.content||(alert("Selected subject is not found !!"),t=!1)),this.documentDataModal.linkType="Internal",this.documentDataModal.isBook=!0,t?(this.$refs["view-modal"].show(),this.documentDataModal.active=!0):this.$refs["view-modal"].hide()},getSubjectTopics:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n in this.subject_id=this.Subject.id,this.backToSubject(),a=!1,this.myTopic=!0,this.configContent)this.configContent.hasOwnProperty(n)&&this.configContent[n]["id"]==this.subject_id&&(this.configContent[n]["content"]||this.configContent[n]["content_1"])&&(a=!0,this.bookInfo.content=this.configContent[n]["content"],this.bookInfo.content_1=this.configContent[n]["content_1"],this.bookInfo.name_en=this.configContent[n]["name_en"],this.bookInfo.name_np=this.configContent[n]["name_np"]);return"english"===this.Subject.text.toLowerCase()&&this.$store.commit("toggleLocale","en"),"nepali"===this.Subject.text.toLowerCase()&&this.$store.commit("toggleLocale","np"),this.$store.commit("setSubjectName",this.Subject.text.toLowerCase()),this.showBook=a,t.next=11,C.get("topics/ugetTopicBySubject/".concat(this.subject_id));case 11:o=t.sent,"success"===o.data.response?this.subjectContent=o.data.data:this.subjectContent={},window.scroll(0,1500);case 14:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleSubTopics:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.subjectContent.length>0&&(a=this.subjectContent.filter((function(t){if(t.TopicSubTopics&&t.id===e)return t.TopicSubTopics})),a.length>0&&(this.myTopic=!0,this.subTopicsList=a[0].TopicSubTopics));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),backStep:function(){this.subjectBreadCrumb.courseTitle&&""!==this.subjectBreadCrumb.courseName?this.backToTopic():this.backToSubject()},getBookName:function(){return"en"===this.$store.state.locale?"Book":"पुस्तक"},updateContent:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.selectedSubTopic||!e){t.next=10;break}return this.coreContentSelected=e,a=this.selectedSubTopic,t.next=5,C.get("content/".concat(a,"/").concat(e));case 5:n=t.sent,"success"===n.data.response&&(this.topic.data=n.data.data,this.topic.selected=!0),o=this.$store.state.history,o.contentType=e,this.$store.dispatch("history",o);case 10:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}}),Bt=Lt,Ut=(a("7c1a"),Object(r["a"])(Bt,j,S,!1,null,"641fc962",null)),It=Ut.exports,Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"w-75"},[a("div",{staticClass:"text-center w-100 d-flex flex-row justify-content-between"},[1==t.pdfPage?a("button",{staticClass:"btn",attrs:{id:"prev",disabled:""}},[t._v("Previous")]):t._e(),t.pdfPage>1?a("button",{staticClass:"btn",attrs:{id:"prev"},on:{click:function(e){return t.prevPdfPage()}}},[t._v("Previous")]):t._e(),t.render?t._e():a("span",{attrs:{id:"pageNo"}},[t._v("Page: "+t._s(t.pdfPage)+" / "+t._s(t.totalPdfPage))]),t.pdfPage<t.totalPdfPage?a("button",{staticClass:"btn",attrs:{id:"next"},on:{click:function(e){return t.nextPdfPage()}}},[t._v("Next")]):t._e(),t.pdfPage==t.totalPdfPage?a("button",{staticClass:"btn",attrs:{id:"next",disabled:""}},[t._v("Next")]):t._e(),t.render?a("button",{staticClass:"btn",on:{click:function(e){return t.loadPdf()}}},[t._v("render")]):t._e()]),a("canvas",{attrs:{id:"pdfCanvas"}})])])},Mt=[],qt={props:["config"],data:function(){return{content:null,pdf:null,render:!0,pdfPage:1,totalPdfPage:null,pageRendering:!1,error:!1,errorMessage:null}},methods:{loadPdf:function(){var t=this;this.content=this.config;var e=this.content.url,a=window.location+e;window.PDFJS.getDocument(a).then((function(e){t.pdf=e,t.renderPage(1),t.render=!1,t.totalPdfPage=e.numPages})).catch((function(t){console.log(t)}))},renderPage:function(){var t=this;this.pdf.getPage(this.pdfPage).then((function(e){t.pageRendering=!0;var a=e.getViewport(1),n=document.getElementById("pdfCanvas"),o=n.getContext("2d");n.height=a.height,n.width=a.width;var s={canvasContext:o,viewport:a};e.render(s)}))},nextPdfPage:function(){this.pdfPage++,this.renderPage()},prevPdfPage:function(){this.pdfPage--,this.renderPage()}},mounted:function(){this.loadPdf()}},Ht=qt,zt=(a("67a6"),Object(r["a"])(Ht,Gt,Mt,!1,null,"06bfe5e0",null)),Vt=zt.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("div",{staticClass:"flex mt-70"},[""!=t.content?a("div",{staticClass:"w-70 text-center w-100"},[a("video",{staticClass:"w-100",attrs:{autoplay:"",controls:"",src:t.videoSrc}})]):t._e(),a("div",{staticClass:"sidebar w-30"},[a("h2",{staticClass:"mt-0"},[t._v(t._s(t.config.title)+" Related Videos")]),t._l(t.content,(function(e){return a("div",{key:e["videoData.name"],staticClass:"flex videos pointer",on:{click:function(a){return t.changeContent(e)}}},[a("div",{staticClass:"w-30 flex-column-center"},[a("video",{attrs:{preload:"metadata",width:"100%"}},[a("source",{attrs:{src:e.path}})])]),a("div",{staticClass:"w-70 flex-column-space text-left"},[a("span",{staticClass:"title"},[t._v(t._s(t.getText(e.name)))]),a("span",{staticClass:"desc"},[t._v("Title: (Mesurement)")])])])})),a("hr")],2)])])},Wt=[],Yt={props:["config"],data:function(){return{content:null,url:null}},methods:{changeContent:function(t){var e=this;this.url=t.path,this.content=this.config.videos.filter((function(t,a){return t.path!=e.url}))}},computed:{videoSrc:function(){var t="/".concat(this.url);return t}},created:function(){console.log("VIdeos config",this.config),this.content=this.data},mounted:function(){var t=this;this.url=this.config.url,this.content=this.config.videos.filter((function(e,a){return e.path!=t.config.url}))}},Zt=Yt,Kt=(a("a1f7"),Object(r["a"])(Zt,Jt,Wt,!1,null,"0e2e144c",null)),Qt=Kt.exports,Xt=(a("43c9"),{name:"app",data:function(){return{visible:!1,currentComponent:"Dashboard",data:null,langauge:[{value:"en",text:"en"},{value:"np",text:"ने"}],defaultLanguage:"np"}},components:{Video:Qt,Dashboard:x,Subject:It,Simulation:X,Document:Vt},computed:Object(m["b"])(["locale"]),watch:{locale:function(t,e){t!==e&&(this.defaultLanguage=t)}},methods:{handleFocusOut:function(){this.visible=!1},toggleLanguage:function(){this.visible=!this.visible},selectLanguage:function(t){this.defaultLanguage="en"===t?"en":"ने",this.$store.commit("toggleLocale","en"===t?"en":"np")},changeComponent:function(t){this.data=t,null===t.data?this.currentComponent=t.component:this.currentComponent="Subject"},goToSubject:function(){var t=JSON.parse(localStorage.getItem("subhistory"));null!==t&&(this.data=t.subject,this.data.history=t),this.currentComponent="Subject"}}}),te=Xt,ee=(a("679b"),Object(r["a"])(te,g,b,!1,null,"a75c2df6",null)),ae=ee.exports,ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"loginPage"},[t._m(0),a("h1",[t._v("MOE Login")]),a("form",[t.msgError.length>0?a("div",t._l(t.msgError,(function(e){return a("p",{key:e,staticClass:"msgError"},[t._v(t._s(e.msg))])})),0):t._e(),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Username")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"emailHelp",placeholder:"Username"},domProps:{value:t.username},on:{input:[function(e){e.target.composing||(t.username=e.target.value)},function(e){return t.clearData()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login()}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},function(e){return t.clearData()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login()}}})]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.login()}}},[t._v("Submit")])])])},oe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"center"},[n("img",{attrs:{src:a("438f"),title:"MOE",alt:"MOE"}})])}],se=(a("4ac1"),{data:function(){return{username:"",password:"",uname:"",pword:"",msgError:[],msgLogin:""}},mounted:function(){},methods:{login:function(){var t=this;""!=this.username&&""!=this.password?C.post("login",{username:this.username,password:this.password},{headers:{"Content-Type":"application/json"}}).then((function(e){"success"===e.data.response?(localStorage.setItem("moe-login",!0),localStorage.setItem("userId",e.data.user.id),t.$router.push("/moe-admin/dashboard")):"errors"===e.data.response&&(t.msgError=e.data.errors)})).catch((function(t){console.log("Error",t)})):this.msgError.push({msg:"A username and password must be present"})},clearData:function(){this.msgError=[]}}}),ie=se,re=Object(r["a"])(ie,ne,oe,!1,null,null,null),ce=re.exports,le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavBar"),t._v("this is dashboard\n")],1)},ue=[],de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navBar1"},[t._m(0),t._m(1),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[a("ul",{staticClass:"navbar-nav"},[a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/moe-admin/dashboard"}},[t._v("Home")])],1),a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/moe-admin/grades"}},[t._v("Grade")])],1),a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/moe-admin/subjects"}},[t._v("Subject")])],1),a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/moe-admin/topics"}},[t._v("Topics")])],1),a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/moe-admin/sub-topics"}},[t._v("Sub Topics")])],1),a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/moe-admin/contents"}},[t._v("Content")])],1),a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/moe-admin/user"}},[t._v("User")])],1),a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/moe-admin/content-owner"}},[t._v("Content Owner")])],1),a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/moe-admin/content-type"}},[t._v("Content Type")])],1),a("li",[a("router-link",{staticClass:"nav-link",attrs:{to:"/moe-admin/school"}},[t._v("Schools")])],1),a("li",[a("b-nav-item-dropdown",{attrs:{right:""}},[a("template",{slot:"button-content"},[t._v("Settings")]),a("b-dropdown-item",{on:{click:function(e){return t.goToPage("change-password")}}},[t._v("Change Password")]),a("b-dropdown-item",{on:{click:function(e){return t.logout()}}},[t._v("Log Out")])],2)],1)])])])},pe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{href:"/moe-admin/dashboard"}},[n("img",{staticClass:"navbar-brand",attrs:{src:a("7b42"),title:"MOE",alt:"MOE"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("span",{staticClass:"navbar-toggler-icon"})])}],me={data:function(){return{homePage:"nav-item",contentPage:"nav-item",settingsPage:"nav-item",addContentPage:"nav-item"}},methods:{logout:function(){localStorage.setItem("moe-login",!1),localStorage.setItem("userId",null),this.$router.push("/moe-admin")},goToPage:function(t){switch(t){case"dashboard":this.contentPage="nav-item",this.homePage="nav-item active",this.settingsPage="nav-item",this.addContentPage="nav-item";break;case"contents":this.contentPage="nav-item active",this.homePage="nav-item",this.settingsPage="nav-item",this.addContentPage="nav-item";break;case"add-content":this.contentPage="nav-item",this.homePage="nav-item",this.settingsPage="nav-item",this.addContentPage="nav-item active";break;case"change-password":this.contentPage="nav-item",this.homePage="nav-item",this.settingsPage="nav-item active",this.addContentPage="nav-item";break;case"new-user":this.contentPage="nav-item",this.homePage="nav-item",this.settingsPage="nav-item active",this.addContentPage="nav-item";break;case"users":this.contentPage="nav-item",this.homePage="nav-item",this.settingsPage="nav-item active",this.addContentPage="nav-item";break;default:this.contentPage="nav-item",this.homePage="nav-item active",this.settingsPage="nav-item",this.addContentPage="nav-item"}this.$router.push("/moe-admin/"+t)}}},he=me,fe=(a("9a2e"),Object(r["a"])(he,de,pe,!1,null,"794dcd6f",null)),ge=fe.exports,be={components:{NavBar:ge},mounted:function(){var t=localStorage.getItem("moe-login");if("false"===t)return this.$router.push("/moe-admin")}},ve=be,_e=Object(r["a"])(ve,le,ue,!1,null,null,null),ye=_e.exports,Ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-wrap d-flex flex-row align-items-center"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-12 text-center"},[a("span",{staticClass:"display-1 d-block"},[t._v("404")]),a("div",{staticClass:"mb-4 lead"},[t._v("The page you are looking for was not found.")]),a("router-link",{staticClass:"btn btn-link",attrs:{to:"/moe-admin"}},[t._v("Back to Home")])],1)])])])},we=[],ke=(a("b848"),{}),Te=ke,xe=Object(r["a"])(Te,Ce,we,!1,null,null,null),je=xe.exports,Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavBar"),a("h1",[t._v("Change Password")]),a("div",{staticClass:"ChangePasswordPage"},[a("form",[t.msgError.length>0?a("div",t._l(t.msgError,(function(e){return a("p",{key:e,staticClass:"msgError"},[t._v(t._s(e.msg))])})),0):t._e(),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("New Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newpassword,expression:"newpassword"}],staticClass:"form-control",attrs:{type:"password","aria-describedby":"emailHelp",placeholder:"Password"},domProps:{value:t.newpassword},on:{input:[function(e){e.target.composing||(t.newpassword=e.target.value)},function(e){return t.clearData()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changePassword()}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Confirm Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.confirmpassword,expression:"confirmpassword"}],staticClass:"form-control",attrs:{type:"password","aria-describedby":"emailHelp",placeholder:"New Password"},domProps:{value:t.confirmpassword},on:{input:[function(e){e.target.composing||(t.confirmpassword=e.target.value)},function(e){return t.clearData()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changePassword()}}})]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.changePassword()}}},[t._v("Submit")])])])],1)},De=[],Re=(a("8bc9"),{components:{NavBar:ge},data:function(){return{newpassword:"",confirmpassword:"",msgError:[]}},mounted:function(){},methods:{changePassword:function(){var t=this,e=localStorage.getItem("userId");""!=this.newpassword&&""!=this.confirmpassword?C.post("change-password",{newPassword:this.newpassword,confirmPassword:this.confirmpassword,id:e},{headers:{"Content-Type":"application/json"}}).then((function(e){"success"===e.data.response?(localStorage.setItem("moe-login",!1),localStorage.setItem("userId",null),t.$router.push("/moe-admin")):"error"===e.data.response&&t.msgError.push(e.data.errors)})).catch((function(t){console.log("Error",t)})):this.msgError.push({msg:"A newpassword and new newpassword must be present."})},clearData:function(){this.msgError=[]}}}),$e=Re,Pe=Object(r["a"])($e,Se,De,!1,null,null,null),Ne=Pe.exports,Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavBar"),a("b-container",{staticStyle:{"margin-top":"20px"},attrs:{fluid:""}},[a("b-row",{staticClass:"mb-3",attrs:{"align-h":"between"}},[a("b-col",{attrs:{cols:"4"}},[a("h3",[t._v("Manage User")])]),a("b-col",{attrs:{cols:"2"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticStyle:{"background-color":"#4CAF50"}},[t._v("Add")]),a("b-modal",{ref:"modal-1",attrs:{id:"modal-1",title:"Add User","hide-footer":"","no-close-on-backdrop":""}},[a("AddUser")],1)],1)],1),a("b-row",{staticClass:"mb-3",attrs:{"align-h":"end"}},[a("b-col",{attrs:{cols:"1"}},[t.totalRows>0?a("span",[t._v("Records: "+t._s(t.totalRows))]):t._e()]),a("b-col",{attrs:{cols:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Record per page","label-cols-sm":"6","label-cols-md":"6","label-cols-lg":"6","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{staticStyle:{width:"35%"},attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{"current-page":t.currentPage,"per-page":t.perPage,items:t.items,fields:t.fields,"sort-desc":t.sortDesc,responsive:"sm",striped:"",hover:"",bordered:"","head-variant":"dark"},on:{"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[t._v(t._s(e.index+1))]}},{key:"cell(username)",fn:function(e){return[t._v(t._s(e.value))]}}])}),a("b-modal",{ref:"modal-edit",attrs:{title:"Edit User","hide-footer":"","no-close-on-backdrop":""}},[a("EditUser",{attrs:{editRow:this.editRow}})],1),t.totalRows>1?a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e()],1)],1)},Fe=[],Oe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"AddUserPage"},[a("form",[t.msgError.length>0?a("div",t._l(t.msgError,(function(e){return a("p",{key:e,staticClass:"msgError"},[t._v(t._s(e.msg))])})),0):t._e(),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Username :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"emailHelp",placeholder:"Username"},domProps:{value:t.username},on:{input:[function(e){e.target.composing||(t.username=e.target.value)},function(e){return t.clearData()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addUser()}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Password :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password","aria-describedby":"emailHelp",placeholder:"Password"},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},function(e){return t.clearData()}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addUser()}}})]),a("div",{staticClass:"buttons"},[a("button",{staticClass:"btn btn-primary",staticStyle:{"margin-right":"5px"},attrs:{type:"button"},on:{click:function(e){return t.addUser()}}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)])])])},Ae=[],Le=(a("a215"),{components:{},data:function(){return{username:"",password:"",msgError:[]}},mounted:function(){},methods:{addUser:function(){var t=this;""!=this.username&&""!=this.password?C.post("signup",{username:this.username,password:this.password},{headers:{"Content-Type":"application/json"}}).then((function(e){"success"===e.data.response?(alert("User has been added"),t.$root.$emit("close-modal")):"error"===e.data.response&&t.msgError.push(e.data.errors)})).catch((function(t){console.log("Error",t)})):this.msgError.push({msg:"Username and Password cannot be empty."})},clearData:function(){this.msgError=[]}}}),Be=Le,Ue=Object(r["a"])(Be,Oe,Ae,!1,null,null,null),Ie=Ue.exports,Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"username"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter username"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),a("b-form-group",{attrs:{label:"change password"}},[a("b-form-input",{attrs:{required:"",placeholder:"Enter users new password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("div",{staticClass:"buttons"},[a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1):t._e()],1)},Me=[],qe={name:"EditUser",props:["editRow"],data:function(){return{config:{header:{"Content-Type":"application/json"}},form:{username:"",password:"",id:""},show:!0}},mounted:function(){this.editRow?this.form=this.editRow:(alert("NO DATA"),this.$root.$emit("close-modal"))},methods:{onSubmit:function(t){t.preventDefault(),C.post("users/addOrEdit",this.form,this.config).then((function(t){"success"===t.data.response?(alert("Updated Successfully."),window.location.reload()):"error"===t.data.response&&alert("Grade must be unique")}))},onReset:function(t){var e=this;t.preventDefault(),this.form.name_en="",this.form.name_np="",this.show=!1,this.$nextTick((function(){e.show=!0}))}}},He=qe,ze=Object(r["a"])(He,Ge,Me,!1,null,null,null),Ve=ze.exports,Je=(a("052b"),{name:"User",components:{NavBar:ge,AddUser:Ie,EditUser:Ve},data:function(){return{config:{header:{"Content-Type":"application/json"}},editRow:{},totalRows:1,currentPage:1,perPage:20,pageOptions:[5,10,15,25,50,100],sortDesc:!1,fields:[{key:"sn",label:"S.N.",sortable:!0},{key:"username",sortable:!0}],items:[]}},created:function(){this.getData()},mounted:function(){var t=this;this.$root.$on("close-modal",(function(){t.$refs["modal-1"]&&(t.$refs["modal-1"].hide(),t.getData())}))},methods:{handleEdit:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.editRow=e,this.$refs["modal-edit"].show();case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleDelete:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=confirm("Are you really want to delete user id ".concat(e.item.username," (").concat(e.item.username,") ?")),!a){t.next=4;break}return t.next=4,C.post("users/delete",{id:e.item.id},this.config).then((function(t){"success"===t.data.response?(alert("Delete Successfully."),window.location.reload()):"error"===t.data.response&&alert("User can't be delete.")}));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},getData:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get("/users");case 2:e=t.sent,"success"===e.data.response&&e.data.data.length>0&&(this.items=e.data.data,this.totalRows=this.items.length);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}}),We=Je,Ye=Object(r["a"])(We,Ee,Fe,!1,null,null,null),Ze=Ye.exports,Ke=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavBar"),a("div",{staticClass:"addContentSection"},[a("b-modal",{ref:"view-modal",attrs:{id:"modal-1",size:"lg",title:"embed.title","hide-footer":"","no-close-on-backdrop":""},scopedSlots:t._u([{key:"modal-header",fn:function(e){e.close;return[a("div",[a("h3",[t._v("Upload Success")])])]}}])},[[a("div",[a("span",[t._v('\n            Data has been saved. Please click "Continue" to upload more\n            contents and click "Okay" to view the contents.\n          ')])]),a("div",{staticStyle:{float:"right"}},[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.handleModalBox("Continue")}}},[t._v("Continue")]),a("b-button",{staticStyle:{"margin-left":"10px"},attrs:{variant:"secondary"},on:{click:function(e){return t.handleModalBox("Okay")}}},[t._v("Okay")])],1)]],2),a("h1",[t._v("Add Content")]),a("div",[a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Grade")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.gradeSelection,expression:"gradeSelection"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.gradeSelection=e.target.multiple?a:a[0]},function(e){return t.onChangeGrade(e)}]}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Grade")]),t._l(t.grades,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en)+" "+t._s("("+e.name_np+")"))])}))],2)]),t.subjects.length>0?a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Subject")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.subjectSelection,expression:"subjectSelection"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.subjectSelection=e.target.multiple?a:a[0]},function(e){return t.onChangeSubject(e)}]}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Subject")]),t._l(t.subjects,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en))])}))],2)]):t._e(),t.categoriesTitle.length>0?a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Topics")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.topicSelection,expression:"topicSelection"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.topicSelection=e.target.multiple?a:a[0]},function(e){return t.onChangeTopics(e)}]}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Topic")]),t._l(t.categoriesTitle,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en))])}))],2)]):t._e(),t.subTopicsTitle.length>0?a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Sub Topics")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.subTopicSelection,expression:"subTopicSelection"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.subTopicSelection=e.target.multiple?a:a[0]},function(e){return t.onChangeSubTopics(e)}]}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Sub Topic")]),t._l(t.subTopicsTitle,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en))])}))],2)]):t._e(),t.templateActive?[a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Type Of Content")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.contentType,expression:"contentType"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.contentType=e.target.multiple?a:a[0]},function(e){return t.onChangeTypeofContent(e)}]}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Content Type")]),t._l(t.ContentOwners,(function(e){return a("option",{key:e.name,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Chapter Contents")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.topicContents,expression:"topicContents"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.topicContents=e.target.multiple?a:a[0]},function(e){return t.onChangeChapterContents(e)}]}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Chapter Type")]),t._l(t.topicContentsOptions,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en))])}))],2)]),a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Content Type")]),a("b-form-select",{attrs:{options:t.topicTypesOptions},on:{change:function(e){return t.onChangeTopicTypes(e)}},model:{value:t.topicTypes,callback:function(e){t.topicTypes=e},expression:"topicTypes"}})],1),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Name :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.topicNameEnglish,expression:"topicNameEnglish"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"emailHelp",placeholder:"Enter content name"},domProps:{value:t.topicNameEnglish},on:{input:function(e){e.target.composing||(t.topicNameEnglish=e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("नाम :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.topicNameNepali,expression:"topicNameNepali"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"emailHelp",placeholder:"सामग्रीको नाम प्रविष्ट गर्नुहोस्"},domProps:{value:t.topicNameNepali},on:{input:function(e){e.target.composing||(t.topicNameNepali=e.target.value)}}})]),"External"===t.typeofTopic?a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("URL")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.contentURL,expression:"contentURL"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"emailHelp",placeholder:"eg; http://learning.cehrd.np:8000/epaath/"},domProps:{value:t.contentURL},on:{input:function(e){e.target.composing||(t.contentURL=e.target.value)}}})]):t._e(),"Internal"!==t.typeofTopic||"5"!==t.chapterContents&&"6"!==t.chapterContents?t._e():a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Upload Audio")]),a("input",{ref:"refAudio",staticClass:"form-control-file",attrs:{type:"file",required:"",accept:"audio/*"},on:{change:function(e){return t.uploadAudio(e)}}})]),"Internal"===t.typeofTopic&&"6"!==t.chapterContents?[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v(t._s(t.uploadLabel))]),a("input",{ref:"refFile",staticClass:"form-control-file",attrs:{type:"file",required:"",accept:t.acceptedFile},on:{change:function(e){return t.uploadFile(e)}}}),"2"===t.chapterContents?a("i",[t._v("\n                Note: Please include index.html file if you are uploading zip\n                file.\n              ")]):t._e()])]:t._e(),a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Cover Image")]),a("input",{ref:"refImg",staticClass:"form-control-file",attrs:{type:"file",required:"",accept:"image/*"},on:{change:function(e){return t.uploadImage(e)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("img",{attrs:{src:t.imageFile,width:"200px",height:"200px"}})])]:t._e(),a("p",{attrs:{id:"errMsg"}},[t._v(t._s(t.errMsg))]),a("div",[t.loading?a("b-button",{attrs:{variant:"primary",disabled:""}},[a("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("Loading...\n          ")],1):a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.uploadContents()}}},[t._v("Submit")])],1)],2)])],1)],1)},Qe=[],Xe=(a("61ca"),{components:{NavBar:ge},data:function(){return{loading:!1,errMsg:"",audioFile:"",uploadAudioFileName:"",uploadFileName:"",coverImageName:"",toInsert:[],acceptedFile:"",templateActive:!1,typeofContent:"",chapterContents:"",contentURLActive:!1,contentURL:"",audioLinkActive:!1,topicNameEnglish:"",topicNameNepali:"",typeofTopic:"",gradeSelection:"",subjectSelection:"",topicSelection:"",subTopicSelection:"",selectedFile:{},imageFile:null,selectedImage:null,grades:[],subjects:[],categories:[],categoriesTitle:[],subTopicJson:[],subTopicsTitle:[],contents:[],contentsTitle:[],topicContents:null,topicContentsOptions:[],topicTypes:null,topicTypesOptions:[{value:"0",text:"Choose Content Type"},{text:"Internal",value:"Internal"},{text:"External",value:"External"}],contentType:null,uploadLabel:null,ContentOwners:[],dataContent:{np:"",en:""},dataContents:{name:{en:"",np:""},hasChildren:!1,type:"",data:[{image:""}]},config:{header:{"Content-Type":"application/json"}}}},mounted:function(){var t=this;C.get("grades").then((function(e){"success"===e.data.response&&(t.grades=e.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)})),C.get("contentOwners").then((function(e){"success"===e.data.response&&(t.ContentOwners=e.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)})),C.get("contentTypes").then((function(e){"success"===e.data.response&&(t.topicContentsOptions=e.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)}))},methods:{handleModalBox:function(t){switch(t){case"Continue":this.$refs["view-modal"].hide(),this.clearData("chapterContents"),this.clearData("contentURL"),this.imageFile="",this.selectedFile="",this.selectedImage="",this.contentType="",this.loading=!1,this.templateActive=!1;break;case"Okay":this.$router.push("/moe-admin/contents");break}},onChangeChapterContents:function(t){var e=t.target.value;if(this.clearData("chapterContents"),this.contentURLActive=!1,this.audioLinkActive=!1,"0"!==e){switch(this.chapterContents=e,this.chapterContents){case"2":this.uploadLabel="Upload Document",this.acceptedFile="";break;case"3":this.uploadLabel="Upload Video",this.acceptedFile="video/*";break;case"5":this.uploadLabel="Upload Task",this.acceptedFile="application/pdf";break;default:this.uploadLabel="Upload File/s",this.acceptedFile=""}"1"===this.typeofContent&&"1"===this.chapterContents?(this.audioLinkActive=!1,this.contentURLActive=!0):"5"===this.chapterContents&&(this.audioLinkActive=!0,this.contentURLActive=!1)}},onChangeTopicTypes:function(t){this.clearData("contentURL"),this.typeofTopic="","0"!==t&&(this.typeofTopic=t)},onChangeTypeofContent:function(t){"0"!==t.target.value&&(this.typeofContent=t.target.value)},onChangeSubTopics:function(t){this.clearData("subTopics"),"0"!==t.target.value?this.templateActive=!0:this.templateActive=!1},addFile:function(t,e){this[t]=e.target.files[0]},onChangeTopics:function(t){var e=this;if(this.clearData("topics"),"0"!==t.target.value){var a=t.target.value;C.get("subTopics/getSubTopicByTopic/"+a).then((function(t){"success"===t.data.response&&(e.subTopicsTitle=t.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)}))}},onChangeSubject:function(t){var e=this;if(this.clearData("subjects"),"0"!==t.target.value){var a=t.target.value;C.get("topics/getTopicBySubject/"+a).then((function(t){"success"===t.data.response&&(e.categoriesTitle=t.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)}))}},onChangeGrade:function(t){var e=this;if(this.clearData("grade"),this.grade=t.target.value,"0"!==t.target.value){var a=t.target.value;C.get("subjects/getSubjectByGrade/"+a).then((function(t){"success"===t.data.response&&(e.subjects=t.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)}))}},clearData:function(t){switch(t){case"grade":this.categories=[],this.subjects=[],this.categoriesTitle=[],this.subTopicJson=[],this.subTopicsTitle=[],this.contents=[],this.contentsTitle=[],this.templateActive=!1,this.subjectSelection="",this.topicSelection="",this.subTopicSelection="",this.contentType="",this.topicContents="",this.topicNameEnglish="",this.topicNameNepali="",this.contentURL="",this.uploadAudioFileName,this.uploadFileName;break;case"subjects":this.categories=[],this.categoriesTitle=[],this.subTopicJson=[],this.subTopicsTitle=[],this.contents=[],this.contentsTitle=[],this.templateActive=!1,this.topicSelection="",this.subTopicSelection="",this.contentType="",this.topicContents="",this.topicNameEnglish="",this.topicNameNepali="",this.contentURL="",this.uploadAudioFileName,this.uploadFileName;break;case"topics":this.subTopicJson=[],this.subTopicsTitle=[],this.contents=[],this.contentsTitle=[],this.templateActive=!1,this.subTopicSelection="",this.contentType="",this.topicContents="",this.topicNameEnglish="",this.topicNameNepali="",this.contentURL="",this.uploadAudioFileName,this.uploadFileName;break;case"subTopics":this.contentType="",this.topicContents="",this.topicNameEnglish="",this.topicNameNepali="",this.contentURL="",this.uploadAudioFileName,this.uploadFileName;break;case"chapterContents":this.topicNameEnglish="",this.topicNameNepali="",this.contentURL="";break;case"contentURL":this.contentURL="";break}},uploadAudio:function(t){this.audioFile=t.target.files[0],this.uploadAudioFileName=t.target.files[0].name},uploadFile:function(t){this.selectedFile.filename=t.target.files[0],this.file=t.target.files[0],this.uploadFileName=t.target.files[0].name},uploadImage:function(t){var e=this;this.coverImageName=t.target.files[0].name,this.imageFile=t.target.files[0];var a=new FileReader;a.onload=function(t){e.imageFile=t.target.result},a.readAsDataURL(t.target.files[0]),this.selectedFile.uploadImage=event.target.files[0]},handleCheckForm:function(){if(""===this.gradeSelection||this.gradeSelection<=0)return this.errMsg="Please select grade.",!1;if(""===this.subjectSelection||this.subjectSelection<=0)return this.errMsg="Please select subject.",!1;if(""===this.topicSelection||this.topicSelection<=0)return this.errMsg="Please select topic.",!1;if(""===this.subTopicSelection||this.subTopicSelection<=0)return this.errMsg="Please select sub topic.",!1;if(""===this.contentType||this.contentType<=0)return this.errMsg="Please select Type of Content.",!1;if(""===this.topicContents||this.topicContents<=0)return this.errMsg="Please select Chapter Content.",!1;if(""===this.topicTypes||this.topicTypes<=0)return this.errMsg="Please select Type of Content.",!1;if(""===this.topicNameEnglish)return this.errMsg="Please enter Topic name in english.",!1;switch(this.topicContents){case 1:if(""===this.contentURL)return this.errMsg="Please provide valid OLE Url.",!1;break;case 5:if(""===this.uploadAudioFileName||""===this.uploadFileName)return this.errMsg="Please upload Files.",!1;break;default:return""!==this.uploadFileName||(this.errMsg="Please upload File.",!1)}return!0},uploadContents:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e,a,n,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new FormData,e.append("subtopic_id",this.subTopicSelection),e.append("content_owner",this.contentType),e.append("content_type",this.topicContents),e.append("type",this.topicTypes),e.append("name_en",this.topicNameEnglish),e.append("name_np",this.topicNameNepali),e.append("content",""===this.contentURL?"url":this.contentURL),e.append("thumbnail",this.$refs.refImg.files[0]),a={header:{"Content-Type":"multipart/form-data"}},this.loading=!0,n=new FormData,""===this.contentURL&&(this.file&&n.append("content",this.$refs.refFile.files[0]),this.audioFile&&(void 0===this.file?n.append("content",this.$refs.refAudio.files[0]):n.append("content_1",this.$refs.refAudio.files[0]))),t.next=15,C.post("/content/add",e,a).then((function(t){"success"===t.data.response?""===o.contentURL?(n.append("id",t.data.id),C.post("/content/uploadContent",n,a).then((function(t){"success"===t.data.response&&o.$refs["view-modal"].show(),o.loading=!0})).catch((function(t){console.log("Upload Content error ",t)}))):o.$refs["view-modal"].show():"error"===t.data.response?(o.loading=!1,o.errMsg=t.data.error[0].msg,o.$refs["view-modal-Error"].show()):o.loading=!0})).catch((function(t){return console.log("Add Content Error ",t)}));case 15:t.sent;case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}}),ta=Xe,ea=Object(r["a"])(ta,Ke,Qe,!1,null,null,null),aa=ea.exports,na=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavBar"),a("b-container",{staticStyle:{"margin-top":"20px"},attrs:{fluid:""}},[a("b-row",{staticClass:"mb-3",attrs:{"align-h":"between"}},[a("b-col",{attrs:{cols:"4"}},[a("h3",[t._v("Manage Content")])]),a("b-col",{attrs:{cols:"2"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-add",modifiers:{"modal-add":!0}}],staticStyle:{"background-color":"#4CAF50"}},[t._v("Add")])],1),a("b-modal",{ref:"modal-add",attrs:{id:"modal-add",title:"Add Content","hide-footer":"","no-close-on-backdrop":""}},[a("AddContent",{attrs:{addRow:this.addRow}})],1)],1),a("b-row",{staticClass:"mb-3",attrs:{"align-h":"end"}},[a("b-col",[a("form",{staticClass:"form-inline"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Grade")]),a("select",{staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:function(e){return t.onChangeGrade(e)}}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Grade")]),t._l(t.grades,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en)+" "+t._s("("+e.name_np+")"))])}))],2),t.subjects.length>0?[a("label",{staticClass:"my-1 mr-2"},[t._v("Subject")]),a("select",{staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:function(e){return t.onChangeSubject(e)}}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Subject")]),t._l(t.subjects,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en)+" "+t._s("("+e.name_np+")"))])}))],2)]:t._e(),t.categoriesTitle.length>0?[a("label",{staticClass:"my-1 mr-2"},[t._v("Topics")]),a("select",{staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:function(e){return t.onChangeTopics(e)}}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Topic")]),t._l(t.categoriesTitle,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en)+" "+t._s("("+e.name_np+")"))])}))],2)]:t._e(),t.subTopicsTitle.length>0?[a("label",{staticClass:"my-1 mr-2"},[t._v("Sub Topics")]),a("select",{staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:function(e){return t.onChangeSubTopics(e)}}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Sub Topic")]),t._l(t.subTopicsTitle,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en))])}))],2)]:t._e()],2)])],1),a("b-row",{staticClass:"mb-3",attrs:{"align-h":"end"}},[a("b-col",{attrs:{cols:"2"}},[t.topic>0?a("span",[t._v("Total Rows:"+t._s(t.totalRows))]):t._e()]),a("b-col",{attrs:{cols:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Record per page","label-cols-sm":"6","label-cols-md":"6","label-cols-lg":"6","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{staticStyle:{width:"35%"},attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)],1),a("b-modal",{ref:"view-modal",attrs:{id:"modal-1",size:"xl",title:t.embed.title,"hide-footer":"","no-close-on-backdrop":""},scopedSlots:t._u([{key:"modal-header",fn:function(e){e.close;return[a("b-button",{attrs:{size:"sm",variant:"outline-danger"},on:{click:function(e){return t.modalClose()}}},[t._v("Close")]),a("h5",[t._v(t._s(t.embed.title))])]}}])},[t.simulationData.active?a("Simulation",{attrs:{simulationData:t.simulationData}}):t._e(),t.videoData.active?a("Video",{attrs:{videoData:t.videoData}}):t._e(),t.documentData.active?a("Document",{attrs:{documentData:t.documentData}}):t._e(),t.audioData.active?a("Audio",{attrs:{audioData:t.audioData}}):t._e(),t.taskData.active?a("Task",{attrs:{taskData:t.taskData}}):t._e(),t.audioTaskData.active?a("AudioTask",{attrs:{audioTaskData:t.audioTaskData}}):t._e()],1),a("b-modal",{ref:"modal-edit",attrs:{title:"Edit Content","hide-footer":"","no-close-on-backdrop":""}},[a("EditContent",{attrs:{editRow:this.editRow}})],1),a("b-table",{attrs:{"current-page":t.currentPage,"per-page":t.perPage,items:t.items,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,responsive:"sm",striped:"",hover:"",bordered:"","head-variant":"dark"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[t._v(t._s(e.index+1))]}},{key:"cell(content_owner_logo)",fn:function(e){return[null!==e.value?a("img",{attrs:{src:t.url+"Images/"+e.value,height:"60",width:"60",alt:e.value,title:e.value}}):t._e()]}},{key:"cell(name_en)",fn:function(e){return[t._v(t._s(e.item.name_en)+" ("+t._s(e.item.name_np)+")")]}},{key:"cell(content_type_en)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(thumbnail)",fn:function(e){return[null!==e.value?a("img",{attrs:{src:t.url+e.value,alt:e.value,title:e.value,width:"80",height:"80"},on:{click:function(a){return t.handleView(e.item)}}}):t._e()]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"primary"},on:{click:function(a){return t.handleEdit(e.item)}}},[t._v("Edit")]),a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.handleDelete(e.item.id)}}},[t._v("Delete")])]}}])}),a("b-modal",{ref:"modal-edit",attrs:{title:"Edit Subject","hide-footer":"","no-close-on-backdrop":""}},[a("EditContent",{attrs:{editRow:this.editRow}})],1),a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[t.totalRows>1?a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)],1)],1)},oa=[],sa=a("bd86"),ia=(a("91e5"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"Grade :"}},[a("b-form-select",{attrs:{disabled:"disabled",options:t.grades,"required:true":""},on:{change:function(e){return t.onChangeTopics(e)}},model:{value:t.grade_id,callback:function(e){t.grade_id=e},expression:"grade_id"}})],1),t.grade_id>0?a("b-form-group",{attrs:{label:"Subject :"}},[a("b-form-select",{attrs:{disabled:"disabled",options:t.subjects,"required:true":""},on:{change:function(e){return t.onChangeSubject(e)}},model:{value:t.subject_id,callback:function(e){t.subject_id=e},expression:"subject_id"}})],1):t._e(),t.subject_id>0?a("b-form-group",{attrs:{label:"Topics :"}},[a("b-form-select",{attrs:{disabled:"disabled",options:t.topics,"required:true":""},on:{change:function(e){return t.onChangeTopics(e)}},model:{value:t.topic_id,callback:function(e){t.topic_id=e},expression:"topic_id"}})],1):t._e(),t.topic_id>0?a("b-form-group",{attrs:{label:"Sub Topics :"}},[a("b-form-select",{attrs:{options:t.subtopics,"required:true":""},model:{value:t.form.subtopic_id,callback:function(e){t.$set(t.form,"subtopic_id",e)},expression:"form.subtopic_id"}})],1):t._e(),t.form.subtopic_id>0?a("b-form-group",{attrs:{label:"Type Of Content\n:"}},[a("b-form-select",{attrs:{options:t.contentOwners,"required:true":""},model:{value:t.form.content_owner,callback:function(e){t.$set(t.form,"content_owner",e)},expression:"form.content_owner"}})],1):t._e(),t.form.content_owner>0?a("b-form-group",{attrs:{label:"Chapter Contents\n:"}},[a("b-form-select",{attrs:{options:t.contentTypes,"required:true":""},on:{change:function(e){return t.onChangeChapterContents(e)}},model:{value:t.form.content_type,callback:function(e){t.$set(t.form,"content_type",e)},expression:"form.content_type"}})],1):t._e(),t.form.content_owner>0?a("b-form-group",{attrs:{label:"Content Type :"}},[a("b-form-select",{attrs:{options:t.TypesOptions},on:{change:function(e){return t.onChangeTopicTypes(e)}},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1):t._e(),a("div",{staticClass:"form-group"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Core Content")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.core,expression:"form.core"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.form,"core",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"1"}},[t._v("Yes")]),a("option",{attrs:{value:"2"}},[t._v("No")])])]),a("b-form-group",{attrs:{label:"Name :"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter content name"},model:{value:t.form.name_en,callback:function(e){t.$set(t.form,"name_en",e)},expression:"form.name_en"}})],1),a("b-form-group",{attrs:{label:"नाम :"}},[a("b-form-input",{attrs:{required:"",placeholder:"सामग्रीको नाम प्रविष्ट गर्नुहोस्"},model:{value:t.form.name_np,callback:function(e){t.$set(t.form,"name_np",e)},expression:"form.name_np"}})],1),"External"===t.typeofTopic?a("b-form-group",{attrs:{label:"URL :"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.contentURL,expression:"contentURL"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"emailHelp",placeholder:"eg; http://learning.cehrd.np:8000/epaath/"},domProps:{value:t.contentURL},on:{input:function(e){e.target.composing||(t.contentURL=e.target.value)}}})]):t._e(),"Internal"!==t.typeofTopic||5!==t.chapterSeleted&&6!==t.chapterSeleted?t._e():a("b-form-group",{attrs:{label:"Upload Audio :"}},[a("input",{ref:"refAudio",staticClass:"form-control-file",attrs:{type:"file",required:"",accept:"audio/*"},on:{change:function(e){return t.uploadAudio(e)}}}),a("br"),t.existingAudioFileName?a("b-form-group",[a("b-button",{attrs:{href:t.existingAudioFileName,target:"_blank",pill:"",variant:"outline-dark"}},[t._v("play Audio")])],1):t._e()],1),"Internal"===t.typeofTopic&&6!==t.chapterSeleted?[a("label",[t._v(t._s(t.uploadLabel))]),a("input",{ref:"refFile",staticClass:"form-control-file",attrs:{type:"file",accept:t.acceptedFile},on:{change:function(e){return t.uploadFile(e)}}}),a("br"),t.existingUploadFileName?a("b-form-group",[a("b-button",{attrs:{href:t.existingUploadFileName,target:"_blank",pill:"",variant:"outline-dark"}},[t._v("download file")])],1):t._e(),"2"===t.chapterSeleted?a("i",[t._v("Note: Please include index.html file if you are uploading zip file.")]):t._e()]:t._e(),a("br"),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Thumbnail :")]),a("input",{ref:"refthumbnail",staticClass:"form-control-file",attrs:{type:"file",accept:"image/*"},on:{change:function(e){return t.uploadImage(e)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("img",{attrs:{src:t.imageFile,width:"200px",height:"200px"}})])]),t.loading?a("b-button",{attrs:{variant:"primary",disabled:""}},[a("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("Loading...\n     ")],1):a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],2):t._e()],1)}),ra=[],ca=(a("3a5a"),{name:"EditContent",props:["editRow"],data:function(){return{jsonConfig:{header:{"Content-Type":"application/json"}},core:"",grade_id:"",subject_id:"",topic_id:"",coverImageName:"",imageFile:null,selectedFile:{},selectedData:{},loading:!1,subTopicName:"",form:{name_en:"",name_np:"",subtopic_id:"",content_owner:"",content_type:""},grades:[{value:"null",text:"choose a grade"}],subjects:[{value:"null",text:"choose a subject"}],topics:[{value:"null",text:"choose a topic"}],subtopics:[{value:"null",text:"choose a subtopic"}],contentOwners:[{value:"null",text:"choose a content owner"}],contentTypes:[{value:"null",text:"choose a content type"}],TypesOptions:[{value:"Internal",text:"Internal"},{value:"External",text:"External"}],show:!0,typeofTopic:"",contentURL:"",chapterSeleted:"",uploadLabel:null,acceptedFile:"",audioFile:"",uploadAudioFileName:"",uploadFileName:"",existingUploadFileName:"",existingAudioFileName:""}},mounted:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get("/grades");case 2:if(e=t.sent,"success"===e.data.response&&e.data.data.length>0)for(a=e.data.data,n=0;n<a.length;n++)o={text:a[n].name_en,value:a[n].id},a[n].name_en&&this.grades.push(o);this.editRow?(this.grade_id=this.editRow.grade_id,this.grade_id>0&&this.onChangeGrade(this.grade_id),this.subject_id=this.editRow.subject_id,this.subject_id>0&&this.onChangeSubject(this.subject_id),this.topic_id=this.editRow.topic_id,this.topic_id>0&&this.onChangeTopics(this.topic_id),this.form.subtopic_id=this.editRow.subtopic_id,this.form.subtopic_id>0&&this.onChangeSubTopics(this.form.subtopic_id),this.form.id=this.editRow.id,this.form.content_owner=this.editRow.content_owner_id,this.form.content_type=this.editRow.content_type_id,this.form.type=this.editRow.type,this.form.name_en=this.editRow.name_en,this.form.name_np=this.editRow.name_np,this.form.content=this.editRow.content,this.form.core=this.editRow.core,this.onChangeTopicTypes(this.form.type),this.onChangeChapterContents(this.form.content_type),this.imageFile="https://learning.cehrd.edu.np/node/"+this.editRow.thumbnail,this.existingUploadFileName="https://learning.cehrd.edu.np/node/"+this.editRow.content,this.existingAudioFileName="https://learning.cehrd.edu.np/node/"+this.editRow.content_1,"External"===this.form.type&&(this.contentURL=this.editRow.content)):(alert("NO DATA"),window.location.reload());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.loading=!0;var a={header:{"Content-Type":"multipart/form-data"}};this.form.content=""===this.contentURL?this.form.content:this.contentURL,this.audioFile&&!this.file?alert("Please update both audio and task content !!"):C.post("content/edit",this.form,this.jsonConfig).then((function(t){if("success"===t.data.response){if(e.$refs.refthumbnail.files.length>0){var n=new FormData;n.append("id",e.form.id),n.append("thumbnail",e.$refs.refthumbnail.files[0]),C.post("/content/changeImage",n,a).then((function(t){"error"===t.data.response&&(alert("Content can't be Updated Successfully. Please try again."),e.loading=!1,window.location.reload()),e.loading=!0}))}if(""===e.contentURL||"  "===e.contentURL){var o=new FormData;e.audioFile?(o.append("content_1",e.$refs.refAudio.files[0]),e.file&&o.append("content",e.$refs.refFile.files[0])):e.$refs.refFile.files.length>0&&o.append("content",e.$refs.refFile.files[0]),e.audioFile||e.file?(o.append("id",e.form.id),C.post("/content/uploadContent",o,a).then((function(t){"success"===t.data.response?(e.loading=!1,e.$root.$emit("close-modal")):(e.loading=!0,alert("can't update Content. Please try again."),e.$root.$emit("close-modal"))})).catch((function(t){console.log("Upload Content error ",t)}))):(alert("Content Updated Successfully."),e.loading=!1,e.$root.$emit("close-modal"))}else alert("Content Updated Successfully."),e.loading=!1,e.$root.$emit("close-modal")}else"error"===t.data.response&&(alert("can't update Content. Please try again."),e.loading=!1,e.$root.$emit("close-modal"))}))},onReset:function(t){var e=this;t.preventDefault(),this.form.name_en="",this.form.name_np="",this.form.topic_id="",this.contentURL="",this.existingUploadFileName="",this.existingAudioFileName="",this.show=!1,this.$nextTick((function(){e.show=!0}))},onChangeGrade:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.grade=e,this.subjects=[{value:"null",text:"choose a subject"}],"0"!==e&&C.get("subjects/getSubjectByGrade/"+this.grade).then((function(t){if("success"===t.data.response)for(var e=t.data.data,n=0;n<e.length;n++){var o={text:e[n].name_en,value:e[n].id};e[n].name_en&&a.subjects.push(o)}})).catch((function(t){return console.log("Error ",t)}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onChangeSubject:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.subject=e,this.topics=[{value:"null",text:"choose a subject"}],"0"!==e&&C.get("topics/getTopicBySubject/"+this.subject).then((function(t){if("success"===t.data.response)for(var e=t.data.data,n=0;n<e.length;n++){var o={text:e[n].name_en,value:e[n].id};e[n].name_en&&a.topics.push(o)}})).catch((function(t){return console.log("Error ",t)}));case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onChangeTopics:function(t){var e=this;this.clearData("subtopics"),"0"!==t&&C.get("subTopics/getSubTopicByTopic/"+t).then((function(t){if("success"===t.data.response)for(var a=t.data.data,n=0;n<a.length;n++){var o={text:a[n].name_en,value:a[n].id};a[n].name_en&&e.subtopics.push(o)}})).catch((function(t){return console.log("Error ",t)}))},onChangeSubTopics:function(t){var e=this;t>0&&(C.get("contentOwners/").then((function(t){if("success"===t.data.response)for(var a=t.data.data,n=0;n<a.length;n++){var o={text:a[n].name,value:a[n].id};a[n].name&&e.contentOwners.push(o)}})).catch((function(t){return console.log("Error ",t)})),C.get("contentTypes/").then((function(t){if("success"===t.data.response)for(var a=t.data.data,n=0;n<a.length;n++){var o={text:a[n].name_en,value:a[n].id};a[n].name_en&&e.contentTypes.push(o)}})).catch((function(t){return console.log("Error ",t)})),this.existingUploadFileName="",this.existingAudioFileName="",this.imageFile="")},uploadImage:function(t){var e=this;this.coverImageName=t.target.files[0].name,this.imageFile=t.target.files[0];var a=new FileReader;a.onload=function(t){e.imageFile=t.target.result},a.readAsDataURL(t.target.files[0]),this.selectedFile.uploadImage=event.target.files[0]},handleEdit:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.editRow=e,this.$refs["modal-edit"].show();case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),clearData:function(t){switch(this.toDelete=[],t){case"grade":this.categories=[],this.subjects=[],this.categoriesTitle=[],this.subTopicJson=[],this.subTopicsTitle=[],this.contents=[],this.contentsTitle=[],this.subjectName="";break;case"subjects":this.categories=[],this.categoriesTitle=[],this.subTopicJson=[],this.subTopicsTitle=[],this.contents=[],this.contentsTitle=[];break;case"topics":this.subTopics=[],this.contents=[],this.contentsTitle=[];break;case"subtopics":this.subtopics=[{value:"null",text:"choose a subtopic"}];break;case"contentURL":this.contentURL="";break;case"contentURL":this.contentURL="";break}},onChangeTopicTypes:function(t){this.contentURL="",this.typeofTopic="","0"!==t&&(this.typeofTopic=t),this.existingUploadFileName="",this.existingAudioFileName=""},onChangeChapterContents:function(t){if(this.clearData("chapterContents"),this.existingUploadFileName="",this.existingAudioFileName="",this.contentURLActive=!1,this.audioLinkActive=!1,this.chapterSeleted=t,"0"!==t){switch(this.chapterSeleted){case 2:this.uploadLabel="Upload Document",this.acceptedFile="";break;case 3:this.uploadLabel="Upload Video",this.acceptedFile="video/*";break;case 5:this.uploadLabel="Upload Task",this.acceptedFile="application/pdf";break;default:this.uploadLabel="Upload File/s",this.acceptedFile=""}1===this.typeofContent&&1===this.chapterSeleted?(this.audioLinkActive=!1,this.contentURLActive=!0):5===this.chapterContents&&(this.audioLinkActive=!0,this.contentURLActive=!1)}},uploadAudio:function(t){this.audioFile=t.target.files[0],this.uploadAudioFileName=t.target.files[0].name,this.existingAudioFileName=""},uploadFile:function(t){this.selectedFile.filename=t.target.files[0],this.file=t.target.files[0],this.uploadFileName=t.target.files[0].name,this.existingUploadFileName=""}}}),la=ca,ua=Object(r["a"])(la,ia,ra,!1,null,null,null),da=ua.exports,pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"addContentSection"},[a("b-modal",{ref:"view-modal",attrs:{id:"modal-1",size:"lg",title:"embed.title","hide-footer":"","no-close-on-backdrop":""},scopedSlots:t._u([{key:"modal-header",fn:function(e){e.close;return[a("div",[a("h3",[t._v("Upload Success")])])]}}])},[[a("div",[a("span",[t._v('\n            Data has been saved. Please click "Continue" to upload more\n            contents and click "Okay" to view the contents.\n          ')])]),a("div",{staticStyle:{float:"right"}},[a("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.handleModalBox("Continue")}}},[t._v("Continue")]),a("b-button",{staticStyle:{"margin-left":"10px"},attrs:{variant:"secondary"},on:{click:function(e){return t.handleModalBox("Okay")}}},[t._v("Okay")])],1)]],2),a("h1",[t._v("Add Content")]),a("div",[a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Grade")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.gradeSelection,expression:"gradeSelection"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.gradeSelection=e.target.multiple?a:a[0]},function(e){return t.onChangeGrade(e)}]}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Grade")]),t._l(t.grades,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en)+" "+t._s("("+e.name_np+")"))])}))],2)]),t.subjects.length>0?a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Subject")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.subjectSelection,expression:"subjectSelection"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.subjectSelection=e.target.multiple?a:a[0]},function(e){return t.onChangeSubject(e)}]}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Subject")]),t._l(t.subjects,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en))])}))],2)]):t._e(),t.categoriesTitle.length>0?a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Topics")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.topicSelection,expression:"topicSelection"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.topicSelection=e.target.multiple?a:a[0]},function(e){return t.onChangeTopics(e)}]}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Topic")]),t._l(t.categoriesTitle,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en))])}))],2)]):t._e(),t.subTopicsTitle.length>0?a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Sub Topics")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.subTopicSelection,expression:"subTopicSelection"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.subTopicSelection=e.target.multiple?a:a[0]},function(e){return t.onChangeSubTopics(e)}]}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Sub Topic")]),t._l(t.subTopicsTitle,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en))])}))],2)]):t._e(),t.templateActive?[a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Type Of Content")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.contentType,expression:"contentType"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.contentType=e.target.multiple?a:a[0]},function(e){return t.onChangeTypeofContent(e)}]}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Content Type")]),t._l(t.ContentOwners,(function(e){return a("option",{key:e.name,domProps:{value:e.id}},[t._v(t._s(e.name))])}))],2)]),a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Chapter Contents")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.topicContents,expression:"topicContents"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.topicContents=e.target.multiple?a:a[0]},function(e){return t.onChangeChapterContents(e)}]}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Chapter Type")]),t._l(t.topicContentsOptions,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en))])}))],2)]),a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Content Type")]),a("b-form-select",{attrs:{options:t.topicTypesOptions},on:{change:function(e){return t.onChangeTopicTypes(e)}},model:{value:t.topicTypes,callback:function(e){t.topicTypes=e},expression:"topicTypes"}})],1),a("div",{staticClass:"form-group col-md-6"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Core Content")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.core,expression:"core"}],staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref",disabled:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.core=e.target.multiple?a:a[0]}}},[a("option",{attrs:{selected:"1",value:"1"}},[t._v("Yes")]),a("option",{attrs:{value:"2"}},[t._v("No")])])]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Name :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.topicNameEnglish,expression:"topicNameEnglish"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"emailHelp",placeholder:"Enter content name"},domProps:{value:t.topicNameEnglish},on:{input:function(e){e.target.composing||(t.topicNameEnglish=e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("नाम :")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.topicNameNepali,expression:"topicNameNepali"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"emailHelp",placeholder:"सामग्रीको नाम प्रविष्ट गर्नुहोस्"},domProps:{value:t.topicNameNepali},on:{input:function(e){e.target.composing||(t.topicNameNepali=e.target.value)}}})]),"External"===t.typeofTopic?a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"exampleInputEmail1"}},[t._v("URL")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.contentURL,expression:"contentURL"}],staticClass:"form-control",attrs:{type:"text","aria-describedby":"emailHelp",placeholder:"eg; http://learning.cehrd.np:8000/epaath/"},domProps:{value:t.contentURL},on:{input:function(e){e.target.composing||(t.contentURL=e.target.value)}}})]):t._e(),"Internal"!==t.typeofTopic||"5"!==t.chapterContents&&"6"!==t.chapterContents?t._e():a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Upload Audio")]),a("input",{ref:"refAudio",staticClass:"form-control-file",attrs:{type:"file",required:"",accept:"audio/*"},on:{change:function(e){return t.uploadAudio(e)}}})]),"Internal"===t.typeofTopic&&"6"!==t.chapterContents?[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v(t._s(t.uploadLabel))]),a("input",{ref:"refFile",staticClass:"form-control-file",attrs:{type:"file",required:"",accept:t.acceptedFile},on:{change:function(e){return t.uploadFile(e)}}}),"2"===t.chapterContents?a("i",[t._v("\n                Note: Please include index.html file if you are uploading zip\n                file.\n              ")]):t._e()])]:t._e(),a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Cover Image")]),a("input",{ref:"refImg",staticClass:"form-control-file",attrs:{type:"file",required:"",accept:"image/*"},on:{change:function(e){return t.uploadImage(e)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("img",{attrs:{src:t.imageFile,width:"200px",height:"200px"}})])]:t._e(),a("p",{attrs:{id:"errMsg"}},[t._v(t._s(t.errMsg))]),a("div",[t.loading?a("b-button",{attrs:{variant:"primary",disabled:""}},[a("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("Loading...\n          ")],1):a("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.uploadContents()}}},[t._v("Submit")])],1)],2)])],1)])},ma=[],ha={components:{NavBar:ge},props:["addRow"],data:function(){return{core:1,loading:!1,errMsg:"",audioFile:"",uploadAudioFileName:"",uploadFileName:"",coverImageName:"",toInsert:[],acceptedFile:"",templateActive:!1,typeofContent:"",chapterContents:"",contentURLActive:!1,contentURL:"",audioLinkActive:!1,topicNameEnglish:"",topicNameNepali:"",typeofTopic:"",gradeSelection:"",subjectSelection:"",topicSelection:"",subTopicSelection:"",selectedFile:{},imageFile:null,selectedImage:null,grades:[],subjects:[],categories:[],categoriesTitle:[],subTopicJson:[],subTopicsTitle:[],contents:[],contentsTitle:[],topicContents:null,topicContentsOptions:[],topicTypes:null,topicTypesOptions:[{value:"0",text:"Choose Content Type"},{text:"Internal",value:"Internal"},{text:"External",value:"External"}],contentType:null,uploadLabel:null,ContentOwners:[],dataContent:{np:"",en:""},dataContents:{name:{en:"",np:""},hasChildren:!1,type:"",data:[{image:""}]},config:{header:{"Content-Type":"application/json"}}}},mounted:function(){var t=this;if(C.get("grades").then((function(e){"success"===e.data.response&&(t.grades=e.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)})),C.get("contentOwners").then((function(e){"success"===e.data.response&&(t.ContentOwners=e.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)})),C.get("contentTypes").then((function(e){"success"===e.data.response&&(t.topicContentsOptions=e.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)})),this.addRow.grade_id){this.gradeSelection=this.addRow.grade_id;var e={target:{value:this.gradeSelection}};this.onChangeGrade(e),this.subjectSelection=this.addRow.subject_id;var a={target:{value:this.subjectSelection}};this.onChangeSubject(a),this.topicSelection=this.addRow.topic_id;var n={target:{value:this.topicSelection}};this.onChangeTopics(n),this.subTopicSelection=this.addRow.subtopic_id,this.subTopicSelection&&(this.templateActive=!0)}},methods:{handleModalBox:function(t){switch(t){case"Continue":this.$refs["view-modal"].hide(),this.clearData("chapterContents"),this.clearData("contentURL"),this.imageFile="",this.selectedFile="",this.selectedImage="",this.contentType="",this.loading=!1,this.templateActive=!1,this.$root.$emit("refresh-content");break;case"Okay":this.loading=!1,this.$root.$emit("close-modal-add");break}},onChangeChapterContents:function(t){var e=t.target.value;if(this.clearData("chapterContents"),this.contentURLActive=!1,this.audioLinkActive=!1,"0"!==e){switch(this.chapterContents=e,this.chapterContents){case"2":this.uploadLabel="Upload Document",this.acceptedFile="";break;case"3":this.uploadLabel="Upload Video",this.acceptedFile="video/*";break;case"5":this.uploadLabel="Upload Task",this.acceptedFile="application/pdf";break;default:this.uploadLabel="Upload File/s",this.acceptedFile=""}"1"===this.typeofContent&&"1"===this.chapterContents?(this.audioLinkActive=!1,this.contentURLActive=!0):"5"===this.chapterContents&&(this.audioLinkActive=!0,this.contentURLActive=!1)}},onChangeTopicTypes:function(t){this.clearData("contentURL"),this.typeofTopic="","0"!==t&&(this.typeofTopic=t)},onChangeTypeofContent:function(t){"0"!==t.target.value&&(this.typeofContent=t.target.value)},onChangeSubTopics:function(t){this.clearData("subTopics"),"0"!==t.target.value?this.templateActive=!0:this.templateActive=!1},addFile:function(t,e){this[t]=e.target.files[0]},onChangeTopics:function(t){var e=this;if(this.clearData("topics"),"0"!==t.target.value){var a=t.target.value;C.get("subTopics/getSubTopicByTopic/"+a).then((function(t){"success"===t.data.response&&(e.subTopicsTitle=t.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)}))}},onChangeSubject:function(t){var e=this;if(this.clearData("subjects"),"0"!==t.target.value){var a=t.target.value;C.get("topics/getTopicBySubject/"+a).then((function(t){"success"===t.data.response&&(e.categoriesTitle=t.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)}))}},onChangeGrade:function(t){var e=this;if(this.clearData("grade"),this.grade=t.target.value,"0"!==t.target.value){var a=t.target.value;C.get("subjects/getSubjectByGrade/"+a).then((function(t){"success"===t.data.response&&(e.subjects=t.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)}))}},clearData:function(t){switch(t){case"grade":this.categories=[],this.subjects=[],this.categoriesTitle=[],this.subTopicJson=[],this.subTopicsTitle=[],this.contents=[],this.contentsTitle=[],this.templateActive=!1,this.subjectSelection="",this.topicSelection="",this.subTopicSelection="",this.contentType="",this.topicContents="",this.topicNameEnglish="",this.topicNameNepali="",this.contentURL="",this.uploadAudioFileName,this.uploadFileName;break;case"subjects":this.categories=[],this.categoriesTitle=[],this.subTopicJson=[],this.subTopicsTitle=[],this.contents=[],this.contentsTitle=[],this.templateActive=!1,this.topicSelection="",this.subTopicSelection="",this.contentType="",this.topicContents="",this.topicNameEnglish="",this.topicNameNepali="",this.contentURL="",this.uploadAudioFileName,this.uploadFileName;break;case"topics":this.subTopicJson=[],this.subTopicsTitle=[],this.contents=[],this.contentsTitle=[],this.templateActive=!1,this.subTopicSelection="",this.contentType="",this.topicContents="",this.topicNameEnglish="",this.topicNameNepali="",this.contentURL="",this.uploadAudioFileName,this.uploadFileName;break;case"subTopics":this.contentType="",this.topicContents="",this.topicNameEnglish="",this.topicNameNepali="",this.contentURL="",this.uploadAudioFileName,this.uploadFileName;break;case"chapterContents":this.topicNameEnglish="",this.topicNameNepali="",this.contentURL="";break;case"contentURL":this.contentURL="";break}},uploadAudio:function(t){this.audioFile=t.target.files[0],this.uploadAudioFileName=t.target.files[0].name},uploadFile:function(t){this.selectedFile.filename=t.target.files[0],this.file=t.target.files[0],this.uploadFileName=t.target.files[0].name},uploadImage:function(t){var e=this;this.coverImageName=t.target.files[0].name,this.imageFile=t.target.files[0];var a=new FileReader;a.onload=function(t){e.imageFile=t.target.result},a.readAsDataURL(t.target.files[0]),this.selectedFile.uploadImage=event.target.files[0]},handleCheckForm:function(){if(""===this.gradeSelection||this.gradeSelection<=0)return this.errMsg="Please select grade.",!1;if(""===this.subjectSelection||this.subjectSelection<=0)return this.errMsg="Please select subject.",!1;if(""===this.topicSelection||this.topicSelection<=0)return this.errMsg="Please select topic.",!1;if(""===this.subTopicSelection||this.subTopicSelection<=0)return this.errMsg="Please select sub topic.",!1;if(""===this.contentType||this.contentType<=0)return this.errMsg="Please select Type of Content.",!1;if(""===this.topicContents||this.topicContents<=0)return this.errMsg="Please select Chapter Content.",!1;if(""===this.topicTypes||this.topicTypes<=0)return this.errMsg="Please select Type of Content.",!1;if(""===this.topicNameEnglish)return this.errMsg="Please enter Topic name in english.",!1;switch(this.topicContents){case 1:if(""===this.contentURL)return this.errMsg="Please provide valid OLE Url.",!1;break;case 5:if(""===this.uploadAudioFileName||""===this.uploadFileName)return this.errMsg="Please upload Files.",!1;break;default:return""!==this.uploadFileName||(this.errMsg="Please upload File.",!1)}return!0},uploadContents:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e,a,n,o=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=new FormData,e.append("subtopic_id",this.subTopicSelection),e.append("content_owner",this.contentType),e.append("content_type",this.topicContents),e.append("type",this.topicTypes),e.append("name_en",this.topicNameEnglish),e.append("name_np",this.topicNameNepali),e.append("content",""===this.contentURL?"url":this.contentURL),e.append("thumbnail",this.$refs.refImg.files[0]),e.append("core",this.core),a={header:{"Content-Type":"multipart/form-data"}},this.loading=!0,n=new FormData,""===this.contentURL&&(this.file&&n.append("content",this.$refs.refFile.files[0]),this.audioFile&&(void 0===this.file?n.append("content",this.$refs.refAudio.files[0]):n.append("content_1",this.$refs.refAudio.files[0]))),t.next=16,C.post("/content/add",e,a).then((function(t){"success"===t.data.response?""===o.contentURL?(n.append("id",t.data.id),C.post("/content/uploadContent",n,a).then((function(t){"success"===t.data.response&&o.$refs["view-modal"].show(),o.loading=!0})).catch((function(t){console.log("Upload Content error ",t)}))):o.$refs["view-modal"].show():"error"===t.data.response?(o.loading=!1,o.errMsg=t.data.error[0].msg,o.$refs["view-modal-Error"].show()):o.loading=!0})).catch((function(t){return console.log("Add Content Error ",t)}));case 16:t.sent;case 17:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},fa=ha,ga=Object(r["a"])(fa,pa,ma,!1,null,null,null),ba=ga.exports,va={components:{NavBar:ge,Simulation:X,Video:st,Document:$t,Audio:dt,Task:bt,AudioTask:Tt,EditContent:da,AddContent:ba},data:function(){var t;return t={addRow:{},totalRows:1,currentPage:1,perPage:50,pageOptions:[5,10,15,25,50,100],sortDesc:!0,items:[],fields:[{key:"sn",label:"S.N."},{key:"content_owner_logo",sortable:!1,label:"Type"},{key:"content_type_en",label:"Name",sortable:!0},{key:"name_en",label:"Content Name",sortable:!0},{key:"thumbnail",label:"Image"},{key:"actions",label:"Actions"}],toDelete:[],sortBy:"updatedAt"},Object(sa["a"])(t,"sortDesc",!0),Object(sa["a"])(t,"gradeConfig",""),Object(sa["a"])(t,"grade",""),Object(sa["a"])(t,"subject",""),Object(sa["a"])(t,"topic",""),Object(sa["a"])(t,"grades",[]),Object(sa["a"])(t,"subjects",[]),Object(sa["a"])(t,"categories",[]),Object(sa["a"])(t,"categoriesTitle",[]),Object(sa["a"])(t,"subTopicJson",[]),Object(sa["a"])(t,"subTopicsTitle",[]),Object(sa["a"])(t,"contents",[]),Object(sa["a"])(t,"contentsTitle",[]),Object(sa["a"])(t,"topicName",""),Object(sa["a"])(t,"subTopicName",""),Object(sa["a"])(t,"subjectName",""),Object(sa["a"])(t,"url","https://learning.cehrd.edu.np/node/"),Object(sa["a"])(t,"embed",{src:"",title:""}),Object(sa["a"])(t,"simulationData",{active:!1,url:"",type:"",linkType:""}),Object(sa["a"])(t,"videoData",{active:!1,url:"",type:"",linkType:""}),Object(sa["a"])(t,"audioData",{active:!1,url:"",type:"",linkType:""}),Object(sa["a"])(t,"taskData",{active:!1,url:"",type:"",linkType:""}),Object(sa["a"])(t,"audioTaskData",{active:!1,audioLink:"",taskLink:"",type:"",linkType:""}),Object(sa["a"])(t,"documentData",{active:!1,url:"",type:"",linkType:""}),Object(sa["a"])(t,"config",{header:{"Content-Type":"application/json"}}),Object(sa["a"])(t,"editRow",{}),t},mounted:function(){var t=this;C.get("grades").then((function(e){"success"===e.data.response&&(t.grades=e.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)})),this.$root.$on("close-modal",(function(){if(t.$refs["modal-edit"]){t.$refs["modal-edit"].hide();var e={target:{value:t.editRow.subtopic_id}};t.onChangeSubTopics(e)}})),this.$root.$on("close-modal-add",(function(){if(t.$refs["modal-add"]){t.$refs["modal-add"].hide();var e={target:{value:t.addRow.subtopic_id}};t.onChangeSubTopics(e)}})),this.$root.$on("refresh-content",(function(){var e={target:{value:t.addRow.subtopic_id}};t.onChangeSubTopics(e)}))},methods:{modalClose:function(){this.handleClearData(),this.$refs["view-modal"].hide()},handleEdit:function(t){this.editRow=t,this.editRow.grade_id=this.grade,this.editRow.subject_id=this.subject,this.editRow.topic_id=this.topic,this.$refs["modal-edit"].show()},handleView:function(t){this.embed.title=t.name_en;var e=t.content_type_en,a=t.type;"Learning Games"===t.content_type_en?this.getSimulation(e,t.content,a):"Video"===t.content_type_en?this.getVideo(e,t.content,a):"Document"===t.content_type_en||"Book"===t.content_type_en?this.getDocument(e,t.content,a):"Simulation"===t.content_type_en?this.getSimulation(e,t.content,a):"Audio"===t.content_type_en?this.getAudio(e,t.content,a):"Task"===t.content_type_en?this.getTask(e,t.content,a):"Audio And Task"===t.content_type_en&&this.getAudioTask(e,t.content,t.content_1,a),this.$refs["view-modal"].show()},getDocument:function(t,e,a){this.documentData.active=!0,this.documentData.type=t,this.documentData.url=e,this.documentData.linkType=a},getSimulation:function(t,e,a){this.simulationData.active=!0,this.simulationData.url=e,this.simulationData.type=t,this.simulationData.linkType=a},getVideo:function(t,e,a){this.videoData.active=!0,this.videoData.type=t,this.videoData.url=e,this.videoData.linkType=a},getAudio:function(t,e,a){this.audioData.active=!0,this.audioData.type=t,this.audioData.url=e,this.audioData.linkType=a},getTask:function(t,e,a){this.taskData.active=!0,this.taskData.type=t,this.taskData.url=e,this.taskData.linkType=a},getAudioTask:function(t,e,a,n){this.audioTaskData.active=!0,this.audioTaskData.type=t,this.audioTaskData.audioLink=a,this.audioTaskData.taskLink=e},handleDelete:function(t){var e=window.confirm("Are you sure , you want to delete it?");if(e){var a={header:{"Content-Type":"application/json"}};C.post("content/delete",{id:t},a).then((function(t){"success"===t.data.response&&(alert("Delete Successfully."),window.location.reload())})).catch((function(t){return console.log("Error ",t)}))}},onChangeSubTopics:function(t){var e=this;if(this.subTopicName=t.target.value,this.items=[],"0"!==t.target.value){var a=t.target.value;C.get("content/"+a).then((function(t){"success"===t.data.response&&(e.items=t.data.data.map((function(t){return t})),e.totalRows=e.items.length)})).catch((function(t){return console.log("Error ",t)})),this.addRow.subtopic_id=a}else this.totalRows=0},onChangeTopics:function(t){var e=this;this.clearData("topics"),"0"!==t.target.value&&(this.topic=t.target.value,C.get("subTopics/getSubTopicByTopic/"+this.topic).then((function(t){"success"===t.data.response&&(e.subTopicsTitle=t.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)})),this.addRow.topic_id=this.topic)},onChangeSubject:function(t){var e=this;this.clearData("subjects"),"0"!==t.target.value&&(this.subject=t.target.value,C.get("topics/getTopicBySubject/"+this.subject).then((function(t){"success"===t.data.response&&(e.categoriesTitle=t.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)})),this.addRow.subject_id=this.subject)},onChangeGrade:function(t){var e=this;if(this.clearData("grade"),this.grade=t.target.value,"0"!==t.target.value){var a=t.target.value;C.get("subjects/getSubjectByGrade/"+a).then((function(t){"success"===t.data.response&&(e.subjects=t.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)})),this.addRow.grade_id=a}},handleClearData:function(){this.simulationData.active=!1,this.simulationData.url="",this.simulationData.type="",this.videoData.active=!1,this.videoData.url="",this.videoData.type="",this.audioData.active=!1,this.audioData.url="",this.audioData.type="",this.audioTaskData.active=!1,this.audioTaskData.audioLink="",this.audioTaskData.taskLink="",this.audioTaskData.type="",this.taskData.active=!1,this.taskData.url="",this.taskData.type="",this.documentData.active=!1,this.documentData.url="",this.documentData.type=""},clearData:function(t){switch(this.toDelete=[],t){case"grade":this.categories=[],this.subjects=[],this.categoriesTitle=[],this.subTopicJson=[],this.subTopicsTitle=[],this.contents=[],this.contentsTitle=[],this.subjectName="";break;case"subjects":this.categories=[],this.categoriesTitle=[],this.subTopicJson=[],this.subTopicsTitle=[],this.contents=[],this.contentsTitle=[];break;case"topics":this.subTopicJson=[],this.subTopicsTitle=[],this.contents=[],this.contentsTitle=[];break}},addContent:function(){this.$router.push("/moe-admin/add-content")}}},_a=va,ya=Object(r["a"])(_a,na,oa,!1,null,null,null),Ca=ya.exports,wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"Name :"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter grade name"},model:{value:t.form.name_en,callback:function(e){t.$set(t.form,"name_en",e)},expression:"form.name_en"}})],1),a("b-form-group",{attrs:{label:"नाम :"}},[a("b-form-input",{attrs:{required:"",placeholder:"ग्रेडको नाम प्रविष्ट गर्नुहोस्"},model:{value:t.form.name_np,callback:function(e){t.$set(t.form,"name_np",e)},expression:"form.name_np"}})],1),a("div",{staticClass:"buttons"},[a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1):t._e()],1)},ka=[],Ta=(a("baa4"),{name:"AddGrade",data:function(){return{config:{header:{"Content-Type":"application/json"}},form:{name_en:"",name_np:""},show:!0}},methods:{onSubmit:function(t){var e=this;t.preventDefault(),C.post("grades/addOrEdit",this.form,this.config).then((function(t){"success"===t.data.response?(alert("Added Successfully."),e.$root.$emit("close-modal")):"error"===t.data.response&&alert("Grade must be unique")}))},onReset:function(t){var e=this;t.preventDefault(),this.form.name_en="",this.form.name_np="",this.show=!1,this.$nextTick((function(){e.show=!0}))}}}),xa=Ta,ja=Object(r["a"])(xa,wa,ka,!1,null,null,null),Sa=ja.exports,Da=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavBar"),a("b-container",{staticStyle:{"margin-top":"20px"},attrs:{fluid:""}},[a("b-row",{staticClass:"mb-3",attrs:{"align-h":"between"}},[a("b-col",{attrs:{cols:"4"}},[a("h3",[t._v("Manage Grade")])]),a("b-col",{attrs:{cols:"2"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticStyle:{"background-color":"#4CAF50"}},[t._v("Add")]),a("b-modal",{ref:"modal-1",attrs:{id:"modal-1",title:"Add Grade","hide-footer":"","no-close-on-backdrop":""}},[a("AddGrade")],1)],1)],1),a("b-row",{staticClass:"mb-3",attrs:{"align-h":"end"}},[a("b-col",{attrs:{cols:"1"}},[t.totalRows>0?a("span",[t._v("Records: "+t._s(t.totalRows))]):t._e()]),a("b-col",{attrs:{cols:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Record per page","label-cols-sm":"6","label-cols-md":"6","label-cols-lg":"6","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{staticStyle:{width:"35%"},attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{"current-page":t.currentPage,"per-page":t.perPage,items:t.items,fields:t.fields,"sort-desc":t.sortDesc,responsive:"sm",striped:"",hover:"",bordered:"","head-variant":"dark"},on:{"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[t._v(t._s(e.index+1))]}},{key:"cell(name_en)",fn:function(e){return[t._v("\n        "+t._s(e.item.name_en+" ("+e.item.name_np+")")+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"primary"},on:{click:function(a){return t.handleEdit(e.item)}}},[t._v("Edit")]),a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.handleDelete(e,e.index)}}},[t._v("Delete")])]}}])}),a("b-modal",{ref:"modal-edit",attrs:{title:"Edit Grade","hide-footer":"","no-close-on-backdrop":""}},[a("EditGrade",{attrs:{editRow:this.editRow}})],1),t.totalRows>1?a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e()],1)],1)},Ra=[],$a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"Name :"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter grade name"},model:{value:t.form.name_en,callback:function(e){t.$set(t.form,"name_en",e)},expression:"form.name_en"}})],1),a("b-form-group",{attrs:{label:"नाम :"}},[a("b-form-input",{attrs:{required:"",placeholder:"ग्रेडको नाम प्रविष्ट गर्नुहोस्"},model:{value:t.form.name_np,callback:function(e){t.$set(t.form,"name_np",e)},expression:"form.name_np"}})],1),a("div",{staticClass:"buttons"},[a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1):t._e()],1)},Pa=[],Na={name:"EditGrade",props:["editRow"],data:function(){return{config:{header:{"Content-Type":"application/json"}},form:{name_en:"",name_np:""},show:!0}},mounted:function(){this.editRow?(this.form.id=this.editRow.id,this.form.name_en=this.editRow.name_en,this.form.name_np=this.editRow.name_np):(alert("NO DATA"),this.$root.$emit("close-modal"))},methods:{onSubmit:function(t){var e=this;t.preventDefault(),C.post("grades/addOrEdit",this.form,this.config).then((function(t){"success"===t.data.response?(alert("Updated Successfully."),e.$root.$emit("close-modal")):"error"===t.data.response&&alert("Grade must be unique")}))},onReset:function(t){var e=this;t.preventDefault(),this.form.name_en="",this.form.name_np="",this.show=!1,this.$nextTick((function(){e.show=!0}))}}},Ea=Na,Fa=Object(r["a"])(Ea,$a,Pa,!1,null,null,null),Oa=Fa.exports,Aa=(a("f21d"),{name:"Grade",components:{NavBar:ge,AddGrade:Sa,EditGrade:Oa},data:function(){return{config:{header:{"Content-Type":"application/json"}},editRow:{},totalRows:1,currentPage:1,perPage:50,pageOptions:[5,10,15,25,50,100],sortDesc:!1,fields:[{key:"sn",label:"S.N.",sortable:!0},{key:"name_en",sortable:!0,label:"Grade"},{key:"actions",label:"Actions"}],items:[],alert:!1}},created:function(){this.getData()},mounted:function(){var t=this;this.$root.$on("close-modal",(function(){t.$refs["modal-edit"]&&(t.$refs["modal-edit"].hide(),t.getData()),t.$refs["modal-1"]&&(t.$refs["modal-1"].hide(),t.getData())}))},methods:{handleEdit:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.editRow=e,this.$refs["modal-edit"].show();case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleDelete:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=confirm("Are you really want to delete class id ".concat(e.item.name_en," (").concat(e.item.name_np,") ?")),!n){t.next=4;break}return t.next=4,C.post("grades/delete",{id:e.item.id},this.config).then((function(t){"success"===t.data.response?(alert("Delete Successfully."),window.location.reload()):"error"===t.data.response&&alert("Grade can't be delete.")}));case 4:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},getData:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get("/grades");case 2:e=t.sent,"success"===e.data.response&&e.data.data.length>0&&(this.items=e.data.data,this.totalRows=this.items.length);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}}),La=Aa,Ba=Object(r["a"])(La,Da,Ra,!1,null,null,null),Ua=Ba.exports,Ia=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"Grade :"}},[a("b-form-select",{attrs:{options:t.grades,"required:true":""},on:{change:function(e){return t.clearData()}},model:{value:t.form.grade_id,callback:function(e){t.$set(t.form,"grade_id",e)},expression:"form.grade_id"}})],1),a("b-form-group",{attrs:{label:"Subject :"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Subject name"},model:{value:t.form.name_en,callback:function(e){t.$set(t.form,"name_en",e)},expression:"form.name_en"}})],1),a("b-form-group",{attrs:{label:"विषय :"}},[a("b-form-input",{attrs:{required:"",placeholder:"विषयको नाम"},model:{value:t.form.name_np,callback:function(e){t.$set(t.form,"name_np",e)},expression:"form.name_np"}})],1),a("b-form-group",{attrs:{label:"Upload Book :"}},[a("input",{ref:"refFile",staticClass:"form-control-file",attrs:{type:"file"},on:{change:function(e){return t.uploadFile_en(e)}}})]),a("b-form-group",{attrs:{label:"पुस्तक अपलोड गर्नुहोस् :"}},[a("input",{ref:"refFile1",staticClass:"form-control-file",attrs:{type:"file"},on:{change:function(e){return t.uploadFile_np(e)}}})]),a("div",{staticClass:"buttons"},[t.loading?a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{variant:"primary",disabled:""}},[a("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("Loading...\n      ")],1):a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1):t._e()],1)},Ga=[],Ma=(a("8dd6"),{name:"AddSubject",props:["addRow"],data:function(){return{config:{header:{"Content-Type":"application/json"}},selectedFile_en:{},selectedFile_np:{},uploadFileName_en:"",uploadFileName_np:"",loading:!1,form:{name_en:"",name_np:"",grade_id:null},grades:[{value:"null",text:"choose a grade"}],show:!0}},mounted:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get("/grades");case 2:if(e=t.sent,"success"===e.data.response&&e.data.data.length>0)for(a=e.data.data,n=0;n<a.length;n++)o={text:a[n].name_en+" ("+a[n].name_np+")",value:a[n].id},a[n].name_en&&this.grades.push(o);this.addRow.grade_id&&(this.form.grade_id=this.addRow.grade_id);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{onSubmit:function(t){var e=this;if(t.preventDefault(),this.loading=!0,this.form.grade_id>0){var a={header:{"Content-Type":"multipart/form-data"}};C.post("subjects/addOrEdit",this.form,this.config).then((function(t){if("success"===t.data.response){var n=new FormData;n.append("id",t.data.id),e.file?(1==e.$refs.refFile.files.length&&n.append("subject",e.$refs.refFile.files[0]),1==e.$refs.refFile1.files.length&&n.append("subject1",e.$refs.refFile1.files[0]),C.post("/subjects/uploadContent",n,a).then((function(t){"success"===t.data.response?(alert("Subject Added Successfully."),e.loading=!1,e.$root.$emit("close-modal-add")):"error"===t.data.response&&(alert("Subject Book can't Added Successfully. Please try again."),e.loading=!1),e.loading=!0}))):(alert("Subject Added Successfully."),e.loading=!1,e.$root.$emit("close-modal-add"))}else"error"===t.data.response&&(alert("Subjects must be unique!!"),e.loading=!1)}))}else alert("Please select a grade!!"),this.loading=!1},onReset:function(t){var e=this;t.preventDefault(),this.form.name_en="",this.form.name_np="",this.form.selected="",this.show=!1,this.$nextTick((function(){e.show=!0}))},uploadFile_en:function(t){this.selectedFile_en.filename=t.target.files[0],this.file=t.target.files[0],this.uploadFileName_en=t.target.files[0].name},clearData:function(){this.uploadFileName_en="",this.uploadFileName_np=""},uploadFile_np:function(t){this.selectedFile_np.filename=t.target.files[0],this.file=t.target.files[0],this.uploadFileName_en=t.target.files[0].name}}}),qa=Ma,Ha=Object(r["a"])(qa,Ia,Ga,!1,null,null,null),za=Ha.exports,Va=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavBar"),a("b-container",{staticStyle:{"margin-top":"20px"},attrs:{fluid:""}},[a("b-row",{staticClass:"mb-3",attrs:{"align-h":"between"}},[a("b-col",{attrs:{cols:"4"}},[a("h3",[t._v("Manage Subjects")])]),a("b-col",{attrs:{cols:"2"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticStyle:{"background-color":"#4CAF50"}},[t._v("Add")]),a("b-modal",{ref:"modal-add",attrs:{id:"modal-1",title:"Add Subject","hide-footer":"","no-close-on-backdrop":""}},[a("AddSubject",{attrs:{addRow:this.addRow}})],1)],1)],1),a("b-row",{staticClass:"mb-3",attrs:{"align-h":"end"}},[a("b-col",[a("form",{staticClass:"form-inline"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Grade")]),a("select",{staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:function(e){return t.onChangeGrade(e)}}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Grade")]),t._l(t.grades,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en+" ("+e.name_np+")"))])}))],2)])]),a("b-col",{attrs:{cols:"1"}},[t.totalRows>0&&""!==t.gradeConfig?a("span",[t._v("Records:"+t._s(t.totalRows))]):t._e()]),a("b-col",{attrs:{cols:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Record per page","label-cols-sm":"6","label-cols-md":"6","label-cols-lg":"6","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{staticStyle:{width:"35%"},attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)],1),a("b-modal",{ref:"view-modal",attrs:{id:"modal-2",title:t.embed.title,"hide-footer":"","no-close-on-backdrop":""}},[t.documentData.active?a("Document2",{attrs:{documentData:t.documentData}}):t._e()],1),a("b-table",{attrs:{"current-page":t.currentPage,"per-page":t.perPage,items:t.items,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,responsive:"sm",striped:"",hover:"",bordered:"","head-variant":"dark"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v(t._s(e.index+1))]}},{key:"cell(name_en)",fn:function(e){return[t._v(t._s(e.item.name_en)+" ("+t._s(e.item.name_np)+")")]}},{key:"cell(content)",fn:function(e){return[e.item.content?a("b-avatar",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{button:"",title:e.item.name_en,variant:"info",icon:"book"},on:{click:function(a){return t.handleView(e.item,"english")}}}):t._e()]}},{key:"cell(content_1)",fn:function(e){return[e.item.content_1?a("b-avatar",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{button:"",title:e.item.name_np,variant:"success",icon:"book"},on:{click:function(a){return t.handleView(e.item,"nepali")}}}):t._e()]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"primary"},on:{click:function(a){return t.handleEdit(e.item)}}},[t._v("Edit")]),a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.handleDelete(e,e.index)}}},[t._v("Delete")])]}}])}),a("b-modal",{ref:"modal-edit",attrs:{title:"Edit Subject","hide-footer":"","no-close-on-backdrop":""}},[a("EditSubject",{attrs:{editRow:this.editRow}})],1),a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[t.totalRows>0&&""!==t.gradeConfig?a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e()],1)],1)],1)],1)},Ja=[],Wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"Grade :"}},[a("b-form-select",{attrs:{options:t.grades,label:"Grade :"},model:{value:t.form.grade_id,callback:function(e){t.$set(t.form,"grade_id",e)},expression:"form.grade_id"}})],1),a("b-form-group",{attrs:{label:"Subject :"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Subject name"},model:{value:t.form.name_en,callback:function(e){t.$set(t.form,"name_en",e)},expression:"form.name_en"}})],1),a("b-form-group",{attrs:{label:"विषय :"}},[a("b-form-input",{attrs:{required:"",placeholder:"विषयको नाम"},model:{value:t.form.name_np,callback:function(e){t.$set(t.form,"name_np",e)},expression:"form.name_np"}})],1),a("b-form-group",{attrs:{label:"Upload Book:"}},[a("input",{ref:"refFile",staticClass:"form-control-file",attrs:{type:"file"},on:{change:function(e){return t.uploadFile(e)}}})]),t.existingUploadFileName?a("b-form-group",[a("b-button",{attrs:{href:t.existingUploadFileName,target:"_blank",pill:"",variant:"outline-dark"}},[t._v("Download Book")])],1):t._e(),a("b-form-group",{attrs:{label:"पुस्तक अपलोड गर्नुहोस्:"}},[a("input",{ref:"refFile1",staticClass:"form-control-file",attrs:{type:"file"},on:{change:function(e){return t.uploadFile_np(e)}}})]),t.existingUploadFileName_1?a("b-form-group",[a("b-button",{attrs:{href:t.existingUploadFileName_1,target:"_blank",pill:"",variant:"outline-dark"}},[t._v("पुस्तक डाउनलोड गर्नुहोस्")])],1):t._e(),a("div",{staticClass:"buttons"},[a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1):t._e()],1)},Ya=[],Za={name:"EditSubject",props:["editRow"],data:function(){return{config:{header:{"Content-Type":"application/json"}},selectedFile_en:{},selectedFile_np:{},uploadFileName_en:"",uploadFileName_np:"",loading:!1,form:{name_en:"",name_np:"",grade_id:""},grades:[{value:"null",text:"choose a grade"}],show:!0,existingUploadFileName:"",existingUploadFileName_1:""}},mounted:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get("/grades");case 2:if(e=t.sent,"success"===e.data.response&&e.data.data.length>0)for(a=e.data.data,n=0;n<a.length;n++)o={text:a[n].name_en+" ("+a[n].name_np+")",value:a[n].id},a[n].name_en&&this.grades.push(o);this.editRow.data?(this.form.grade_id=this.editRow.grade_id,this.form.id=this.editRow.data.id,this.form.name_en=this.editRow.data.name_en,this.form.name_np=this.editRow.data.name_np,this.editRow.data.content&&(this.existingUploadFileName="https://learning.cehrd.edu.np/node/"+this.editRow.data.content),this.editRow.data.content_1&&(this.existingUploadFileName_1="https://learning.cehrd.edu.np/node/"+this.editRow.data.content_1)):(alert("NO DATA"),window.location.reload());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{onSubmit:function(t){var e=this;t.preventDefault();var a={header:{"Content-Type":"multipart/form-data"}};C.post("subjects/addOrEdit",this.form,this.config).then((function(t){if("success"===t.data.response)if(e.file){var n=new FormData;n.append("id",e.form.id),1==e.$refs.refFile.files.length&&n.append("subject",e.$refs.refFile.files[0]),1==e.$refs.refFile1.files.length&&n.append("subject1",e.$refs.refFile1.files[0]),C.post("/subjects/uploadContent",n,a).then((function(t){"success"===t.data.response&&(alert("Subject Updated Successfully."),e.$root.$emit("close-modal")),e.loading=!0}))}else"error"===t.data.response?(alert("Unable to Updated book!!"),e.$root.$emit("close-modal")):(alert("Subject Updated Successfully."),e.$root.$emit("close-modal"));else"error"===t.data.response&&(alert("Grade must be unique"),e.$root.$emit("close-modal"))}))},onReset:function(t){var e=this;t.preventDefault(),this.form.name_en="",this.form.name_np="",this.form.grade_id="",this.form.selected="",this.uploadFileName_en="",this.uploadFileName_np="",this.show=!1,this.$nextTick((function(){e.show=!0}))},uploadFile:function(t){this.selectedFile_en.filename=t.target.files[0],this.file=t.target.files[0],this.uploadFileName=t.target.files[0].name,this.existingUploadFileName=""},uploadFile_np:function(t){this.selectedFile_np.filename=t.target.files[0],this.file=t.target.files[0],this.uploadFileName_en=t.target.files[0].name,this.existingUploadFileName_1=""}}},Ka=Za,Qa=Object(r["a"])(Ka,Wa,Ya,!1,null,null,null),Xa=Qa.exports,tn=(a("5b8d"),{name:"Subject",components:{NavBar:ge,AddSubject:za,EditSubject:Xa,Document:$t,Document2:G},data:function(){return{config:{header:{"Content-Type":"application/json"}},editRow:{},addRow:{},totalRows:1,currentPage:1,perPage:50,pageOptions:[5,10,15,25,50,100],sortBy:"updatedAt",sortDesc:!0,embed:{src:"",title:""},documentData:{active:!1,url:"",type:"",linkType:""},fields:[{key:"index",label:"S.N."},{key:"name_en",sortable:!0,label:"Subject"},{key:"content",label:"Text Book"},{key:"content_1",label:"पाठ पुस्तक"},{key:"actions",label:"Actions"}],items:[],grades:[],gradeConfig:""}},created:function(){var t=this;C.get("grades").then((function(e){"success"===e.data.response&&(t.grades=e.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)}))},mounted:function(){var t=this;this.$root.$on("close-modal",(function(){t.$refs["modal-edit"]&&(t.$refs["modal-edit"].hide(),t.onChangeGrade())})),this.$root.$on("close-modal-add",(function(){t.$refs["modal-add"]&&(t.$refs["modal-add"].hide(),t.onChangeGrade())}))},methods:{handleEdit:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.editRow.data=e,this.$refs["modal-edit"].show();case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleDelete:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=confirm("Are you really want to delete Subject ".concat(e.item.name_en," (").concat(e.item.name_np,") ?")),!n){t.next=4;break}return t.next=4,C.post("subjects/delete",{id:e.item.id},this.config).then((function(t){"success"===t.data.response?(alert("Delete Successfully."),window.location.reload()):"error"===t.data.response&&alert("Subject can't be delete.")}));case 4:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},onChangeGrade:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e&&"0"!==e.target.value&&(this.gradeConfig=e.target.value),C.get("subjects/getSubjectByGrade/"+this.gradeConfig).then((function(e){e.data.data.length>0&&(t.items=e.data.data,t.totalRows=t.items.length)})).catch((function(t){return console.log("Error ",t)})),this.editRow.grade_id=this.gradeConfig,this.addRow.grade_id=this.gradeConfig},handleView:function(t,e){this.embed.title="english"===e.toLowerCase()?t.name_en:t.name_np;var a="Document",n="Internal";this.getDocument(a,"english"===e.toLowerCase()?t.content:t.content_1,n),this.$refs["view-modal"].show()},getDocument:function(t,e,a){this.documentData.active=!0,this.documentData.type=t,this.documentData.url=e,this.documentData.linkType=a},modalClose:function(){this.handleClearData(),this.$refs["view-modal"].hide()},handleClearData:function(){this.documentData.active=!1,this.documentData.url="",this.documentData.type=""}}}),en=tn,an=Object(r["a"])(en,Va,Ja,!1,null,null,null),nn=an.exports,on=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"Grade :"}},[a("b-form-select",{attrs:{options:t.grades,"required:true":""},on:{change:function(e){return t.onChangeGrade(e)}},model:{value:t.grade,callback:function(e){t.grade=e},expression:"grade"}})],1),t.grade>0?a("b-form-group",{attrs:{label:"Subjects :"}},[a("b-form-select",{attrs:{options:t.subjects,"required:true":""},model:{value:t.form.subject_id,callback:function(e){t.$set(t.form,"subject_id",e)},expression:"form.subject_id"}})],1):t._e(),a("b-form-group",{attrs:{label:"Name :"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter topic name"},model:{value:t.form.name_en,callback:function(e){t.$set(t.form,"name_en",e)},expression:"form.name_en"}})],1),a("b-form-group",{attrs:{label:"नाम :"}},[a("b-form-input",{attrs:{required:"",placeholder:"शीर्षकको नाम प्रविष्ट गर्नुहोस्"},model:{value:t.form.name_np,callback:function(e){t.$set(t.form,"name_np",e)},expression:"form.name_np"}})],1),a("div",{staticClass:"buttons"},[a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1):t._e()],1)},sn=[],rn=(a("c386"),{name:"AddTopic",props:["addRow"],data:function(){return{config:{header:{"Content-Type":"application/json"}},grade:"",form:{name_en:"",name_np:"",subject_id:null},grades:[{value:"null",text:"choose a grade"}],subjects:[{value:"null",text:"choose a subject"}],show:!0}},mounted:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get("/grades");case 2:if(e=t.sent,"success"===e.data.response&&e.data.data.length>0)for(a=e.data.data,n=0;n<a.length;n++)o={text:a[n].name_en,value:a[n].id},a[n].name_en&&this.grades.push(o);this.addRow.grade_id&&(this.grade=this.addRow.grade_id,this.onChangeGrade(this.addRow.grade_id),this.form.subject_id=this.addRow.subject_id);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.grade>0?C.post("topics/addOrEdit",this.form,this.config).then((function(t){"success"===t.data.response?(alert("Subject Added Successfully."),e.$root.$emit("close-modal-add")):"error"===t.data.response&&alert("Subjects must be unique!!")})):alert("Please select a grade!!")},onReset:function(t){var e=this;t.preventDefault(),this.grade="",this.form.name_en="",this.form.name_np="",this.form.subject_id=null,this.show=!1,this.$nextTick((function(){e.show=!0}))},onChangeGrade:function(t){var e=this;this.grade=t,this.subjects=[{value:"null",text:"choose a subject"}],"0"!==t&&C.get("subjects/getSubjectByGrade/"+this.grade).then((function(t){if("success"===t.data.response)for(var a=t.data.data,n=0;n<a.length;n++){var o={text:a[n].name_en,value:a[n].id};a[n].name_en&&e.subjects.push(o)}})).catch((function(t){return console.log("Error ",t)}))}}}),cn=rn,ln=Object(r["a"])(cn,on,sn,!1,null,null,null),un=ln.exports,dn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavBar"),a("b-container",{staticStyle:{"margin-top":"20px"},attrs:{fluid:""}},[a("b-row",{staticClass:"mb-3",attrs:{"align-h":"between"}},[a("b-col",{attrs:{cols:"4"}},[a("h3",[t._v("Manage Topics")])]),a("b-col",{attrs:{cols:"2"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticStyle:{"background-color":"#4CAF50"}},[t._v("Add")]),a("b-modal",{ref:"modal-add",attrs:{id:"modal-1",title:"Add Topic","hide-footer":"","no-close-on-backdrop":""}},[a("AddTopic",{attrs:{addRow:this.addRow}})],1)],1)],1),a("b-row",[a("b-col",[a("form",{staticClass:"form-inline"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Grade")]),a("select",{staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:function(e){return t.onChangeGrade(e)}}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Grade")]),t._l(t.grades,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en+" ("+e.name_np+")"))])}))],2),t.subjects.length>0?[a("label",{staticClass:"my-1 mr-2"},[t._v("Subject")]),a("select",{staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:function(e){return t.onChangeSubject(e)}}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Subject")]),t._l(t.subjects,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en+" ("+e.name_np+")"))])}))],2)]:t._e()],2)]),a("b-col",{attrs:{cols:"1"}},[t.totalRows>0&&""!==t.subject?a("span",[t._v("Total Rows:"+t._s(t.totalRows))]):t._e()]),a("b-col",{attrs:{cols:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Record per page","label-cols-sm":"6","label-cols-md":"6","label-cols-lg":"6","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{staticStyle:{width:"35%"},attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{"current-page":t.currentPage,"per-page":t.perPage,items:t.items,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,responsive:"sm",striped:"",hover:"",bordered:"","head-variant":"dark"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[t._v(t._s(e.index+1))]}},{key:"cell(name_en)",fn:function(e){return[t._v("\n        "+t._s("Nepali"===e.item.subject_en||"English"===e.item.subject_en?e.item.name_en:e.item.name_en+" ("+e.item.name_np+")")+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"primary"},on:{click:function(a){return t.handleEdit(e.item)}}},[t._v("Edit")]),a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.handleDelete(e)}}},[t._v("Delete")])]}}])}),a("b-modal",{ref:"modal-edit",attrs:{title:"Edit Topic","hide-footer":"","no-close-on-backdrop":""}},[a("EditTopic",{attrs:{editRow:this.editRow}})],1),t.totalRows>1?a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e()],1)],1)},pn=[],mn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"Grade :"}},[a("b-form-select",{attrs:{options:t.grades,"required:true":"",disabled:"disabled"},model:{value:t.grade,callback:function(e){t.grade=e},expression:"grade"}})],1),t.grade>0?a("b-form-group",{attrs:{label:"Subjects :"}},[a("b-form-select",{attrs:{"required:true":"",options:t.subjects},model:{value:t.form.subject_id,callback:function(e){t.$set(t.form,"subject_id",e)},expression:"form.subject_id"}})],1):t._e(),a("b-form-group",{attrs:{label:"Name :"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter topic name(en)"},model:{value:t.form.name_en,callback:function(e){t.$set(t.form,"name_en",e)},expression:"form.name_en"}})],1),a("b-form-group",{attrs:{label:"नाम :"}},[a("b-form-input",{attrs:{required:"",placeholder:"शीर्षकको नाम प्रविष्ट गर्नुहोस्"},model:{value:t.form.name_np,callback:function(e){t.$set(t.form,"name_np",e)},expression:"form.name_np"}})],1),a("div",{staticClass:"buttons"},[a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1):t._e()],1)},hn=[],fn={name:"EditTopic",props:["editRow"],data:function(){return{config:{header:{"Content-Type":"application/json"}},form:{id:"",name_en:"",name_np:"",subject_id:""},grade:"",subject:"",grades:[{value:"null",text:"choose a grade"}],subjects:[{value:"null",text:"choose a subject"}],show:!0}},mounted:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get("/grades");case 2:if(e=t.sent,"success"===e.data.response&&e.data.data.length>0)for(a=e.data.data,n=0;n<a.length;n++)o={text:a[n].name_en,value:a[n].id},a[n].name_en&&this.grades.push(o);this.editRow?(this.grade=this.editRow.grade_id,this.grade>0&&this.onChangeGrade(this.grade),this.form.id=this.editRow.data.id,this.form.subject_id=this.editRow.subject_id,this.form.name_en=this.editRow.data.name_en,this.form.name_np=this.editRow.data.name_np):(alert("NO DATA"),window.location.reload());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{onSubmit:function(t){var e=this;t.preventDefault(),C.post("topics/addOrEdit",this.form,this.config).then((function(t){"success"===t.data.response?(alert("Updated Successfully!!."),e.$root.$emit("close-modal")):"error"===t.data.response&&alert("subject must be unique")}))},onReset:function(t){var e=this;t.preventDefault(),this.form.name_en="",this.form.name_np="",this.form.grade_id="",this.form.subject_id="",this.show=!1,this.$nextTick((function(){e.show=!0}))},onChangeGrade:function(t){var e=this;this.grade=t,this.subjects=[{value:"null",text:"choose a subject"}],"0"!==t&&C.get("subjects/getSubjectByGrade/"+this.grade).then((function(t){if("success"===t.data.response)for(var a=t.data.data,n=0;n<a.length;n++){var o={text:a[n].name_en,value:a[n].id};a[n].name_en&&e.subjects.push(o)}})).catch((function(t){return console.log("Error ",t)}))}}},gn=fn,bn=Object(r["a"])(gn,mn,hn,!1,null,null,null),vn=bn.exports,_n=(a("31b4"),{name:"Topic",components:{NavBar:ge,AddTopic:un,EditTopic:vn},data:function(){return{config:{header:{"Content-Type":"application/json"}},editRow:{},addRow:{},totalRows:1,currentPage:1,perPage:50,pageOptions:[5,10,15,25,50,100],sortBy:"updateAt",sortDesc:!0,fields:[{key:"sn",sortable:!0,label:"S.N."},{key:"name_en",sortable:!0,label:"Topics"},{key:"actions",label:"Actions"}],items:[],grades:[],subjects:[],gradeConfig:"",subject:"",storeData:{}}},mounted:function(){var t=this;this.$root.$on("close-modal",(function(){if(t.$refs["modal-edit"]){t.$refs["modal-edit"].hide();var e={target:{value:t.editRow.subject_id}};t.onChangeSubject(e)}})),this.$root.$on("close-modal-add",(function(){if(t.$refs["modal-add"]){t.$refs["modal-add"].hide();var e={target:{value:t.editRow.subject_id}};t.onChangeSubject(e)}}))},created:function(){var t=this;C.get("grades").then((function(e){"success"===e.data.response&&(t.grades=e.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)}))},methods:{handleEdit:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.editRow.data=e,this.$refs["modal-edit"].show();case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleDelete:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=confirm("Are you really want to delete Subject ".concat(e.item.name_en," (").concat(e.item.name_np,") ?")),!a){t.next=4;break}return t.next=4,C.post("topics/delete",{id:e.item.id},this.config).then((function(t){"success"===t.data.response?(alert("Delete Successfully."),window.location.reload()):"error"===t.data.response&&alert("Subject can't be delete.")}));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},onChangeGrade:function(t){var e=this;if(this.clearData("grade"),this.grade=t.target.value,"0"!==t.target.value){var a=t.target.value;C.get("subjects/getSubjectByGrade/"+a).then((function(t){"success"===t.data.response&&(e.subjects=t.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)})),this.editRow.grade_id=this.grade,this.storeData.grade_id=this.grade,this.addRow.grade_id=this.grade}},onChangeSubject:function(t){var e=this;"0"!==t.target.value&&(this.subject=t.target.value,C.get("topics/getTopicBySubject/"+this.subject).then((function(t){"success"===t.data.response&&(e.items=t.data.data,e.totalRows=e.items.length)})).catch((function(t){return console.log("Error ",t)})),this.editRow.subject_id=this.subject,this.addRow.subject_id=this.subject)},clearData:function(t){switch(this.toDelete=[],t){case"grade":this.subject="",this.subjects=[],this.items=[];break}}}}),yn=_n,Cn=Object(r["a"])(yn,dn,pn,!1,null,null,null),wn=Cn.exports,kn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavBar"),a("b-container",{staticStyle:{"margin-top":"20px"},attrs:{fluid:""}},[a("b-row",{staticClass:"mb-3",attrs:{"align-h":"between"}},[a("b-col",{attrs:{cols:"4"}},[a("h3",[t._v("Manage Sub-Topics")])]),a("b-col",{attrs:{cols:"2"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticStyle:{"background-color":"#4CAF50"}},[t._v("Add")]),a("b-modal",{ref:"modal-add",attrs:{id:"modal-1",title:"Add SubTopic","hide-footer":"","no-close-on-backdrop":""}},[a("AddSubTopic",{attrs:{addRow:this.addRow}})],1)],1)],1),a("b-row",{staticClass:"mb-3",attrs:{"align-h":"end"}},[a("b-col",[a("form",{staticClass:"form-inline"},[a("label",{staticClass:"my-1 mr-2"},[t._v("Grade")]),a("select",{staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:function(e){return t.onChangeGrade(e)}}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Grade")]),t._l(t.grades,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en+" ("+e.name_np+")"))])}))],2),t.subjects.length>0?[a("label",{staticClass:"my-1 mr-2"},[t._v("Subject")]),a("select",{staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:function(e){return t.onChangeSubject(e)}}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Subject")]),t._l(t.subjects,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v(t._s(e.name_en+" ("+e.name_np+")"))])}))],2)]:t._e(),t.categoriesTitle.length>0?[a("label",{staticClass:"my-1 mr-2"},[t._v("Topics")]),a("select",{staticClass:"custom-select my-1 mr-sm-2",attrs:{id:"inlineFormCustomSelectPref"},on:{change:function(e){return t.onChangeTopics(e)}}},[a("option",{attrs:{selected:"",value:"0"}},[t._v("Choose Topic")]),t._l(t.categoriesTitle,(function(e){return a("option",{key:e.name_en,domProps:{value:e.id}},[t._v("\n                "+t._s("Nepali"===t.subjectName||"English"===t.subjectName?e.name_en:e.name_en+" ("+e.name_np+")")+"\n                ")])}))],2)]:t._e()],2)])],1),a("b-row",{staticClass:"mb-3",attrs:{"align-h":"end"}},[a("b-col",{attrs:{cols:"2"}},[t.topic>0?a("span",[t._v("Total Rows:"+t._s(t.totalRows))]):t._e()]),a("b-col",{attrs:{cols:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Record per page","label-cols-sm":"6","label-cols-md":"6","label-cols-lg":"6","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{staticStyle:{width:"35%"},attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{"current-page":t.currentPage,"per-page":t.perPage,items:t.items,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,responsive:"sm",striped:"",hover:"",bordered:"","head-variant":"dark"},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v(t._s(e.index+1))]}},{key:"cell(name_en)",fn:function(e){return[t._v("\n        "+t._s("Nepali"===e.item.subject_en||"English"===e.item.subject_en?e.item.name_en:e.item.name_en+" ("+e.item.name_np+")")+"\n      ")]}},{key:"cell(thumbnail)",fn:function(e){return[null!==e.value?a("img",{attrs:{src:t.url+e.value,alt:e.value,title:e.value,width:"80",height:"80"}}):t._e()]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"primary"},on:{click:function(a){return t.handleEdit(e.item)}}},[t._v("Edit")]),a("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.handleDelete(e)}}},[t._v("Delete")])]}}])}),a("b-modal",{ref:"modal-edit",attrs:{title:"Edit SubTopic","hide-footer":"","no-close-on-backdrop":""}},[a("EditSubTopic",{attrs:{editRow:this.editRow}})],1),t.totalRows>1?a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e()],1)],1)},Tn=[],xn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"Grade :"}},[a("b-form-select",{attrs:{options:t.grades,"required:true":""},on:{change:function(e){return t.onChangeGrade(e)}},model:{value:t.form.grade_id,callback:function(e){t.$set(t.form,"grade_id",e)},expression:"form.grade_id"}})],1),t.grade>0?a("b-form-group",{attrs:{label:"Subjects :"}},[a("b-form-select",{attrs:{options:t.subjects,"required:true":""},on:{change:function(e){return t.onChangeSubject(e)}},model:{value:t.form.subject_id,callback:function(e){t.$set(t.form,"subject_id",e)},expression:"form.subject_id"}})],1):t._e(),t.subject>0?a("b-form-group",{attrs:{label:"Topics :"}},[a("b-form-select",{attrs:{options:t.topics,"required:true":""},model:{value:t.form.topic_id,callback:function(e){t.$set(t.form,"topic_id",e)},expression:"form.topic_id"}})],1):t._e(),a("b-form-group",{attrs:{label:"Name :"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter sub topic name"},model:{value:t.form.name_en,callback:function(e){t.$set(t.form,"name_en",e)},expression:"form.name_en"}})],1),a("b-form-group",{attrs:{label:"नाम :"}},[a("b-form-input",{attrs:{required:"",placeholder:"उप शीर्षकको नाम प्रविष्ट गर्नुहोस्"},model:{value:t.form.name_np,callback:function(e){t.$set(t.form,"name_np",e)},expression:"form.name_np"}})],1),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Thumbnail :")]),a("input",{ref:"refthumbnail",staticClass:"form-control-file",attrs:{type:"file",accept:"image/*"},on:{change:function(e){return t.uploadImage(e)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("img",{attrs:{src:t.imageFile,width:"200px",height:"200px"}})])]),a("div",{staticClass:"buttons"},[t.loading?a("b-button",{attrs:{variant:"primary",disabled:""}},[a("b-spinner",{staticStyle:{"margin-right":"5px"},attrs:{small:"",type:"grow"}}),t._v("Loading...\n      ")],1):a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1):t._e()],1)},jn=[],Sn=(a("7205"),{name:"AddSubTopic",props:["addRow"],data:function(){return{jsonconfig:{header:{"Content-Type":"application/json"}},grade:"",subject:"",coverImageName:"",imageFile:null,selectedFile:{},loading:!1,form:{name_en:"",name_np:"",grade_id:"",subject_id:"",topic_id:""},grades:[{value:"null",text:"choose a grade"}],subjects:[{value:"null",text:"choose a subject"}],topics:[{value:"null",text:"choose a topic"}],show:!0}},mounted:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get("/grades");case 2:if(e=t.sent,"success"===e.data.response&&e.data.data.length>0)for(a=e.data.data,n=0;n<a.length;n++)o={text:a[n].name_en,value:a[n].id},a[n].name_en&&this.grades.push(o);this.addRow.grade_id&&(this.form.grade_id=this.addRow.grade_id,this.onChangeGrade(this.form.grade_id),this.form.subject_id=this.addRow.subject_id,this.onChangeSubject(this.form.subject_id),this.form.topic_id=this.addRow.topic_id);case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.loading=!0;var a={header:{"Content-Type":"multipart/form-data"}};this.form.topic_id>0?C.post("subtopics/addOrEdit",this.form,this.jsonconfig).then((function(t){if("success"===t.data.response)if(e.$refs.refthumbnail.files.length>0){var n=new FormData;n.append("id",t.data.id),n.append("thumbnail",e.$refs.refthumbnail.files[0]),C.post("/subTopics/changeSubTopicImage",n,a).then((function(t){"success"===t.data.response?(alert("Sub topic Added Successfully."),e.loading=!1,e.$root.$emit("close-modal-add")):"error"===t.data.response&&(alert("Sub topic can't be Added Successfully. Please try again."),e.loading=!1),e.loading=!0}))}else alert("Sub topic Added Successfully."),e.loading=!1,e.$root.$emit("close-modal-add");else"error"===t.data.response&&alert("sub topics must be unique!!")})):alert("Please select a topic!!")},onReset:function(t){var e=this;t.preventDefault(),this.form.name_en="",this.form.name_np="",this.form.selected="",this.form.grade_id="",this.form.subject_id="",this.form.topic_id="",this.show=!1,this.$nextTick((function(){e.show=!0}))},onChangeGrade:function(t){var e=this;this.grade=t,this.subjects=[{value:"null",text:"choose a subject"}],"0"!==t&&C.get("subjects/getSubjectByGrade/"+this.grade).then((function(t){if("success"===t.data.response)for(var a=t.data.data,n=0;n<a.length;n++){var o={text:a[n].name_en,value:a[n].id};a[n].name_en&&e.subjects.push(o)}})).catch((function(t){return console.log("Error ",t)}))},onChangeSubject:function(t){var e=this;this.subject=t,this.topics=[{value:"null",text:"choose a subject"}],"0"!==t&&C.get("topics/getTopicBySubject/"+this.subject).then((function(t){if("success"===t.data.response)for(var a=t.data.data,n=0;n<a.length;n++){var o={text:a[n].name_en,value:a[n].id};a[n].name_en&&e.topics.push(o)}})).catch((function(t){return console.log("Error ",t)}))},uploadImage:function(t){var e=this;this.coverImageName=t.target.files[0].name,this.imageFile=t.target.files[0];var a=new FileReader;a.onload=function(t){e.imageFile=t.target.result},a.readAsDataURL(t.target.files[0]),this.selectedFile.uploadImage=event.target.files[0]}}}),Dn=Sn,Rn=Object(r["a"])(Dn,xn,jn,!1,null,null,null),$n=Rn.exports,Pn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"Grade :"}},[a("b-form-select",{attrs:{disabled:"disabled",options:t.grades,"required:true":""},on:{change:function(e){return t.onChangeGrade(e)}},model:{value:t.grade_id,callback:function(e){t.grade_id=e},expression:"grade_id"}})],1),t.grade_id>0?a("b-form-group",{attrs:{label:"Subject :"}},[a("b-form-select",{attrs:{options:t.subjects,disabled:"disabled"},on:{change:function(e){return t.onChangeSubject(e)}},model:{value:t.form.subject_id,callback:function(e){t.$set(t.form,"subject_id",e)},expression:"form.subject_id"}})],1):t._e(),t.form.subject_id>0?a("b-form-group",{attrs:{label:"Topics :"}},[a("b-form-select",{attrs:{options:t.topics,"required:true":""},model:{value:t.form.topic_id,callback:function(e){t.$set(t.form,"topic_id",e)},expression:"form.topic_id"}})],1):t._e(),a("b-form-group",{attrs:{label:"Name :"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter sub topic name"},model:{value:t.form.name_en,callback:function(e){t.$set(t.form,"name_en",e)},expression:"form.name_en"}})],1),a("b-form-group",{attrs:{label:"नाम :"}},[a("b-form-input",{attrs:{required:"",placeholder:"उप शीर्षकको नाम प्रविष्ट गर्नुहोस्"},model:{value:t.form.name_np,callback:function(e){t.$set(t.form,"name_np",e)},expression:"form.name_np"}})],1),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Thumbnail :")]),a("input",{ref:"refthumbnail",staticClass:"form-control-file",attrs:{type:"file",accept:"image/*"},on:{change:function(e){return t.uploadImage(e)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("img",{attrs:{src:t.imageFile,width:"200px",height:"200px"}})])]),a("div",{staticClass:"buttons"},[t.loading?a("b-button",{attrs:{variant:"primary",disabled:""}},[a("b-spinner",{staticStyle:{"margin-right":"5px"},attrs:{small:"",type:"grow"}}),t._v("Loading...\n      ")],1):a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1):t._e()],1)},Nn=[],En={name:"EditSubTopic",props:["editRow"],data:function(){return{jsonConfig:{header:{"Content-Type":"application/json"}},grade_id:"",subject_id:"",coverImageName:"",imageFile:null,selectedFile:{},loading:!1,form:{name_en:"",name_np:"",topic_id:""},grades:[{value:"null",text:"choose a grade"}],subjects:[{value:"null",text:"choose a grade"}],topics:[{value:"null",text:"choose a grade"}],show:!0}},mounted:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e,a,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get("/grades");case 2:if(e=t.sent,"success"===e.data.response&&e.data.data.length>0)for(a=e.data.data,n=0;n<a.length;n++)o={text:a[n].name_en,value:a[n].id},a[n].name_en&&this.grades.push(o);this.editRow?(this.form.id=this.editRow.data.id,this.form.name_en=this.editRow.data.name_en,this.form.name_np=this.editRow.data.name_np,this.grade_id=this.editRow.grade_id,this.grade_id>0&&this.onChangeGrade(this.grade_id),this.form.subject_id=this.editRow.subject_id,this.form.subject_id>0&&this.onChangeSubject(this.form.subject_id),this.form.topic_id=this.editRow.topic_id,this.imageFile="https://learning.cehrd.edu.np/node/"+this.editRow.data.thumbnail):(alert("NO DATA"),window.location.reload());case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.loading=!0;var a={header:{"Content-Type":"multipart/form-data"}};C.post("subtopics/addOrEdit",this.form,this.jsonConfig).then((function(t){if("success"===t.data.response)if(e.$refs.refthumbnail.files.length>0){var n=new FormData;n.append("id",e.form.id),n.append("thumbnail",e.$refs.refthumbnail.files[0]),C.post("/subTopics/changeSubTopicImage",n,a).then((function(t){"success"===t.data.response?(alert("Sub topic Updated Successfully."),e.loading=!1,e.$root.$emit("close-modal")):"error"===t.data.response&&(alert("Sub topic can't be Updated Successfully. Please try again."),e.loading=!1,e.$root.$emit("close-modal")),e.loading=!0}))}else alert("Sub topic Updated Successfully."),e.loading=!1,e.$root.$emit("close-modal");else"error"===t.data.response&&(alert("can't update sub topic. Please try again."),e.loading=!1,e.$root.$emit("close-modal"))}))},onReset:function(t){var e=this;t.preventDefault(),this.form.name_en="",this.form.name_np="",this.form.topic_id="",this.imageFile="",this.show=!1,this.$nextTick((function(){e.show=!0}))},onChangeGrade:function(t){var e=this;this.subjects=[{value:"null",text:"choose a subject"}],"0"!==event&&C.get("subjects/getSubjectByGrade/"+t).then((function(t){if("success"===t.data.response)for(var a=t.data.data,n=0;n<a.length;n++){var o={text:a[n].name_en,value:a[n].id};a[n].name_en&&e.subjects.push(o)}})).catch((function(t){return console.log("Error ",t)}))},onChangeSubject:function(t){var e=this;this.subject=t,this.topics=[{value:"null",text:"choose a subject"}],"0"!==t&&C.get("topics/getTopicBySubject/"+this.subject).then((function(t){if("success"===t.data.response)for(var a=t.data.data,n=0;n<a.length;n++){var o={text:a[n].name_en,value:a[n].id};a[n].name_en&&e.topics.push(o)}})).catch((function(t){return console.log("Error ",t)}))},uploadImage:function(t){var e=this;this.coverImageName=t.target.files[0].name,this.imageFile=t.target.files[0];var a=new FileReader;a.onload=function(t){e.imageFile=t.target.result},a.readAsDataURL(t.target.files[0]),this.selectedFile.uploadImage=event.target.files[0]}}},Fn=En,On=Object(r["a"])(Fn,Pn,Nn,!1,null,null,null),An=On.exports,Ln=(a("4026"),{name:"SubTopic",components:{NavBar:ge,AddSubTopic:$n,EditSubTopic:An},data:function(){return{config:{header:{"Content-Type":"application/json"}},editRow:{},addRow:{},totalRows:1,currentPage:1,perPage:50,pageOptions:[5,10,15,25,50,100],sortBy:"updatedAt",sortDesc:!0,url:"https://learning.cehrd.edu.np/node/",fields:[{key:"index",label:"S.N."},{key:"name_en",sortable:!0,label:"Sub Topic"},{key:"thumbnail",label:"Thumbnail"},{key:"actions",label:"Actions"}],items:[],grades:[],subjects:[],categoriesTitle:[],gradeConfig:"",subject:"",subjectName:"",topic:""}},created:function(){var t=this;C.get("grades").then((function(e){"success"===e.data.response&&(t.grades=e.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)}))},mounted:function(){var t=this;this.$root.$on("close-modal",(function(){t.$refs["modal-edit"]&&(t.$refs["modal-edit"].hide(),t.onChangeTopics())})),this.$root.$on("close-modal-add",(function(){t.$refs["modal-add"]&&(t.$refs["modal-add"].hide(),t.onChangeTopics())}))},methods:{handleEdit:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.editRow.data=e,this.$refs["modal-edit"].show();case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleDelete:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=confirm("Are you sure you want to delete SubTopic ".concat(e.item.name_en," (").concat(e.item.name_np,") ?\n        NOTE : This will delete all the contents associated with it")),!a){t.next=4;break}return t.next=4,C.post("SubTopics/delete",{id:e.item.id},this.config).then((function(t){"success"===t.data.response?(alert("Delete Successfully."),window.location.reload()):"error"===t.data.response&&alert("SubTopic can't be delete.")}));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),onFiltered:function(t){this.totalRows=t.length,this.currentPage=1},onChangeGrade:function(t){var e=this;if(this.clearData("grade"),this.grade=t.target.value,"0"!==t.target.value){var a=t.target.value;C.get("subjects/getSubjectByGrade/"+a).then((function(t){"success"===t.data.response&&(e.subjects=t.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)})),this.editRow.grade_id=this.grade,this.addRow.grade_id=this.grade}},onChangeSubject:function(t){var e=this;this.clearData("subjects"),"0"!==t.target.value&&(this.subject=t.target.value,this.subjectName=this.subjects.find((function(t){var a=t.id;return a==e.subject})).name_en,C.get("topics/getTopicBySubject/"+this.subject).then((function(t){"success"===t.data.response&&(e.categoriesTitle=t.data.data.map((function(t){return t})))})).catch((function(t){return console.log("Error ",t)})),this.editRow.subject_id=this.subject,this.addRow.subject_id=this.subject)},onChangeTopics:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!==e&&"0"!==e.target.value&&(this.topic=e.target.value),C.get("subTopics/getSubTopicByTopic/"+this.topic).then((function(e){"success"===e.data.response&&e.data.data.length>0&&(t.items=e.data.data,t.totalRows=t.items.length)})).catch((function(t){return console.log("Error ",t)})),this.editRow.topic_id=this.topic,this.addRow.topic_id=this.topic},clearData:function(t){switch(this.toDelete=[],t){case"grade":this.items=[],this.subjects=[],this.subject="",this.categoriesTitle=[],this.topic="";break;case"subjects":this.items=[],this.categoriesTitle=[],this.topic="";break}}}}),Bn=Ln,Un=Object(r["a"])(Bn,kn,Tn,!1,null,null,null),In=Un.exports,Gn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavBar"),a("b-container",{staticStyle:{"margin-top":"20px"},attrs:{fluid:""}},[a("b-row",{staticClass:"mb-3",attrs:{"align-h":"between"}},[a("b-col",{attrs:{cols:"4"}},[a("h3",[t._v("Manage Content Owner")])]),a("b-col",{attrs:{cols:"2"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticStyle:{"background-color":"#4CAF50"}},[t._v("Add")]),a("b-modal",{ref:"modal-1",attrs:{id:"modal-1",title:"Add Content Owner","hide-footer":"","no-close-on-backdrop":""}},[a("AddContentOwner")],1)],1)],1),a("b-row",{staticClass:"mb-3",attrs:{"align-h":"end"}},[a("b-col",{attrs:{cols:"1"}},[t.totalRows>0?a("span",[t._v("Records: "+t._s(t.totalRows))]):t._e()]),a("b-col",{attrs:{cols:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Record per page","label-cols-sm":"6","label-cols-md":"6","label-cols-lg":"6","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{staticStyle:{width:"35%"},attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{"current-page":t.currentPage,"per-page":t.perPage,items:t.items,fields:t.fields,"sort-desc":t.sortDesc,responsive:"sm",striped:"",hover:"",bordered:"","head-variant":"dark"},on:{"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[t._v(t._s(e.index+1))]}},{key:"cell(name)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(logo)",fn:function(e){return[null!==e.value?a("img",{attrs:{src:t.url+e.value,alt:e.value,title:e.value,width:"80",height:"80"}}):t._e()]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"primary"},on:{click:function(a){return t.handleEdit(e.item)}}},[t._v("Edit")]),a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.handleDelete(e)}}},[t._v("Delete")])]}}])}),a("b-modal",{ref:"modal-edit",attrs:{title:"Edit Content Owner","hide-footer":"","no-close-on-backdrop":""}},[a("EditContentOwner",{attrs:{editRow:this.editRow}})],1),t.totalRows>1?a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e()],1)],1)},Mn=[],qn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"Name :"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter Content Owner name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Logo :")]),a("input",{ref:"refImg",staticClass:"form-control-file",attrs:{type:"file",accept:"image/*"},on:{change:function(e){return t.uploadImage(e)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("img",{attrs:{src:t.imageFile,width:"200px",height:"200px"}})])]),a("div",{staticClass:"buttons"},[t.loading?a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{variant:"primary",disabled:""}},[a("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("Loading...\n      ")],1):a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1):t._e()],1)},Hn=[],zn=(a("722e"),{name:"AddContentOwner",data:function(){return{config:{header:{"Content-Type":"application/json"}},coverImageName:"",imageFile:null,selectedFile:{},loading:!1,form:{name:""},show:!0}},methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.loading=!0;var a={header:{"Content-Type":"multipart/form-data"}};C.post("/contentOwners/add",this.form,this.config).then((function(t){if("success"===t.data.response){if(e.$refs.refImg.files.length>0){var n=new FormData;n.append("id",t.data.id),n.append("logo",e.$refs.refImg.files[0]),C.post("/contentOwners/changeContentOwnersLogo",n,a).then((function(t){"success"===t.data.response?(alert("ContentOwner Added Successfully."),e.loading=!1,e.$root.$emit("close-modal")):"error"===t.data.response&&(alert("Content Owner can't be Added Successfully. Please try again."),e.loading=!1),e.loading=!0}))}}else"error"===t.data.response&&(alert("ContentOwners must be unique!!"),e.loading=!1)}))},onReset:function(t){var e=this;t.preventDefault(),this.form.name_en="",this.form.name_np="",this.form.selected="",this.show=!1,this.$nextTick((function(){e.show=!0}))},uploadImage:function(t){var e=this;this.coverImageName=t.target.files[0].name,this.imageFile=t.target.files[0];var a=new FileReader;a.onload=function(t){e.imageFile=t.target.result},a.readAsDataURL(t.target.files[0]),this.selectedFile.uploadImage=event.target.files[0]}}}),Vn=zn,Jn=Object(r["a"])(Vn,qn,Hn,!1,null,null,null),Wn=Jn.exports,Yn=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"Name :"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter Content Owner name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",[t._v("Logo :")]),a("input",{ref:"refImg",staticClass:"form-control-file",attrs:{type:"file",accept:"image/*"},on:{change:function(e){return t.uploadImage(e)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("img",{attrs:{src:t.imageFile,width:"200px",height:"200px"}})])]),a("div",{staticClass:"buttons"},[t.loading?a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{variant:"primary",disabled:""}},[a("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("Loading...\n      ")],1):a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1):t._e()],1)},Zn=[],Kn={name:"EditContentOwner",props:["editRow"],data:function(){return{config:{header:{"Content-Type":"application/json"}},coverImageName:"",imageFile:null,selectedFile:{},loading:!1,form:{name:"",id:""},show:!0}},mounted:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.editRow?(this.form.id=this.editRow.id,this.form.name=this.editRow.name,this.imageFile="https://learning.cehrd.edu.np/node/"+this.editRow.logo):(alert("NO DATA"),this.$root.$emit("close-modal"));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.loading=!0;var a={header:{"Content-Type":"multipart/form-data"}};C.post("contentOwners/edit",this.form,this.config).then((function(t){if("success"===t.data.response){var n=new FormData;e.$refs.refImg.files.length>0&&(n.append("id",e.form.id),n.append("logo",e.$refs.refImg.files[0]),C.post("/contentOwners/changeContentOwnersLogo",n,a).then((function(t){"success"===t.data.response?(alert("Content Owner Updated Successfully."),e.loading=!1,e.$root.$emit("close-modal")):"error"===t.data.response&&(alert("Content Owner can't be Updated Successfully. Please try again."),e.loading=!1),e.loading=!0}))),e.loading=!1,e.$root.$emit("close-modal")}else"error"===t.data.response&&alert("Content Owners must be unique!!")}))},onReset:function(t){var e=this;t.preventDefault(),this.form.name="",this.show=!1,this.imageFile="",this.$nextTick((function(){e.show=!0}))},uploadImage:function(t){var e=this;this.coverImageName=t.target.files[0].name,this.imageFile=t.target.files[0];var a=new FileReader;a.onload=function(t){e.imageFile=t.target.result},a.readAsDataURL(t.target.files[0]),this.selectedFile.uploadImage=event.target.files[0]}}},Qn=Kn,Xn=Object(r["a"])(Qn,Yn,Zn,!1,null,null,null),to=Xn.exports,eo=(a("0e25"),{name:"ContentOwner",components:{NavBar:ge,AddContentOwner:Wn,EditContentOwner:to},data:function(){return{config:{header:{"Content-Type":"application/json"}},editRow:{},totalRows:1,currentPage:1,perPage:50,pageOptions:[5,10,15,25,50,100],sortDesc:!0,url:"https://learning.cehrd.edu.np/node/",fields:[{key:"sn",label:"S.N.",sortable:!0},{key:"name",sortable:!0},{key:"logo",sortable:!0},{key:"actions",label:"Actions"}],items:[]}},created:function(){this.getData()},mounted:function(){var t=this;this.$root.$on("close-modal",(function(){t.$refs["modal-edit"]&&(t.$refs["modal-edit"].hide(),t.getData()),t.$refs["modal-1"]&&(t.$refs["modal-1"].hide(),t.getData())}))},methods:{handleEdit:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.editRow=e,this.$refs["modal-edit"].show();case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleDelete:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=confirm("Are you really want to delete ContentOwner ".concat(e.item.name," ?")),!a){t.next=4;break}return t.next=4,C.post("ContentOwners/delete",{id:e.item.id},this.config).then((function(t){"success"===t.data.response?(alert("Delete Successfully."),window.location.reload()):"error"===t.data.response&&alert("ContentOwner can't be delete.")}));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getData:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get("/contentOwners");case 2:e=t.sent,"success"===e.data.response&&e.data.data.length>0&&(this.items=e.data.data,this.totalRows=this.items.length);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}}),ao=eo,no=Object(r["a"])(ao,Gn,Mn,!1,null,null,null),oo=no.exports,so=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavBar"),a("b-container",{staticStyle:{"margin-top":"20px"},attrs:{fluid:""}},[a("b-row",{staticClass:"mb-3",attrs:{"align-h":"between"}},[a("b-col",{attrs:{cols:"4"}},[a("h3",[t._v("Manage Content Type")])]),a("b-col",{attrs:{cols:"2"}},[a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],staticStyle:{"background-color":"#4CAF50"}},[t._v("Add")]),a("b-modal",{ref:"modal-1",attrs:{id:"modal-1",title:"Add Content Type","hide-footer":"","no-close-on-backdrop":""}},[a("AddContentType")],1)],1)],1),a("b-row",{staticClass:"mb-3",attrs:{"align-h":"end"}},[a("b-col",{attrs:{cols:"1"}},[t.totalRows>0?a("span",[t._v("Records: "+t._s(t.totalRows))]):t._e()]),a("b-col",{attrs:{cols:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Record per page","label-cols-sm":"6","label-cols-md":"6","label-cols-lg":"6","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{staticStyle:{width:"35%"},attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{"current-page":t.currentPage,"per-page":t.perPage,items:t.items,fields:t.fields,"sort-desc":t.sortDesc,responsive:"sm",striped:"",hover:"",bordered:"","head-variant":"dark"},on:{"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[t._v(t._s(e.index+1))]}},{key:"cell(name_en)",fn:function(e){return[t._v(t._s(e.item.name_en)+" ("+t._s(e.item.name_np)+")")]}},{key:"cell(logo)",fn:function(e){return[null!==e.value?a("img",{attrs:{src:t.url+e.value,alt:e.value,title:e.value,width:"80",height:"80"}}):t._e()]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"primary"},on:{click:function(a){return t.handleEdit(e.item)}}},[t._v("Edit")]),a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.handleDelete(e,e.index)}}},[t._v("Delete")])]}}])}),a("b-modal",{ref:"modal-edit",attrs:{title:"Edit ContentType","hide-footer":"","no-close-on-backdrop":""}},[a("EditContentType",{attrs:{editRow:this.editRow}})],1),t.totalRows>1?a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e()],1)],1)},io=[],ro=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"Name :"}},[a("b-form-input",{attrs:{type:"text",required:"required",placeholder:"Enter Content Type name"},model:{value:t.form.name_en,callback:function(e){t.$set(t.form,"name_en",e)},expression:"form.name_en"}})],1),a("b-form-group",{attrs:{label:"नाम :"}},[a("b-form-input",{attrs:{required:"required",type:"text",placeholder:"सामग्री प्रकारको नाम प्रविष्ट गर्नुहोस्"},model:{value:t.form.name_np,callback:function(e){t.$set(t.form,"name_np",e)},expression:"form.name_np"}})],1),a("div",{staticClass:"buttons"},[t.loading?a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{variant:"primary",disabled:""}},[a("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("Loading...\n      ")],1):a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1):t._e()],1)},co=[],lo=(a("5fa2"),{name:"AddContentType",data:function(){return{config:{header:{"Content-Type":"application/json"}},loading:!1,form:{name_en:"",name_np:""},show:!0}},methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.loading=!0,C.post("/contentTypes/addOREdit",this.form,this.config).then((function(t){"success"===t.data.response?(alert("ContentType Added Successfully."),e.$root.$emit("close-modal"),e.loading=!1):"error"===t.data.response&&(alert("ContentTypes must be unique!!"),e.loading=!1)}))},onReset:function(t){var e=this;t.preventDefault(),this.form.name_en="",this.form.name_np="",this.show=!1,this.$nextTick((function(){e.show=!0}))}}}),uo=lo,po=Object(r["a"])(uo,ro,co,!1,null,null,null),mo=po.exports,ho=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"Name :"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"Enter Content Type name"},model:{value:t.form.name_en,callback:function(e){t.$set(t.form,"name_en",e)},expression:"form.name_en"}})],1),a("b-form-group",{attrs:{label:"नाम :"}},[a("b-form-input",{attrs:{type:"text",required:"",placeholder:"सामग्री प्रकारको नाम प्रविष्ट गर्नुहोस्"},model:{value:t.form.name_np,callback:function(e){t.$set(t.form,"name_np",e)},expression:"form.name_np"}})],1),a("div",{staticClass:"buttons"},[t.loading?a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{variant:"primary",disabled:""}},[a("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("Loading...\n      ")],1):a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1):t._e()],1)},fo=[],go={name:"EditContentType",props:["editRow"],data:function(){return{config:{header:{"Content-Type":"application/json"}},loading:!1,form:{name_en:"",name_np:"",id:""},show:!0}},mounted:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.editRow?(this.form.id=this.editRow.id,this.form.name_en=this.editRow.name_en,this.form.name_np=this.editRow.name_np):(alert("NO DATA"),this.$root.$emit("close-modal"));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.loading=!0,C.post("contentTypes/addOREdit",this.form,this.config).then((function(t){"success"===t.data.response?(alert("Content Type Updated Successfully."),e.$root.$emit("close-modal"),e.loading=!1):"error"===t.data.response&&alert("Content Type must be unique!!")}))},onReset:function(t){var e=this;t.preventDefault(),this.form.name_en="",this.form.name_np="",this.show=!1,this.$nextTick((function(){e.show=!0}))}}},bo=go,vo=Object(r["a"])(bo,ho,fo,!1,null,null,null),_o=vo.exports,yo=(a("8737"),{name:"ContentType",components:{NavBar:ge,AddContentType:mo,EditContentType:_o},data:function(){return{config:{header:{"Content-Type":"application/json"}},editRow:{},totalRows:1,currentPage:1,perPage:50,pageOptions:[5,10,15,25,50,100],sortDesc:!0,url:"https://learning.cehrd.edu.np/node/",fields:[{key:"sn",label:"S.N.",sortable:!0},{key:"name_en",sortable:!0,label:"Name"},{key:"actions",label:"Actions"}],items:[]}},created:function(){this.getData()},mounted:function(){var t=this;this.$root.$on("close-modal",(function(){t.$refs["modal-edit"]&&(t.$refs["modal-edit"].hide(),t.getData()),t.$refs["modal-1"]&&(t.$refs["modal-1"].hide(),t.getData())}))},methods:{handleEdit:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.editRow=e,this.$refs["modal-edit"].show();case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleDelete:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=confirm("Are you really want to delete Content Type ".concat(e.item.name," ?")),!a){t.next=4;break}return t.next=4,C.post("ContentTypes/delete",{id:e.item.id},this.config).then((function(t){"success"===t.data.response?(alert("Delete Successfully."),window.location.reload()):"error"===t.data.response&&alert("ContentType can't be delete.")}));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getData:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get("/contentTypes");case 2:e=t.sent,"success"===e.data.response&&e.data.data.length>0&&(this.items=e.data.data,this.totalRows=this.items.length);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}}),Co=yo,wo=Object(r["a"])(Co,so,io,!1,null,null,null),ko=wo.exports,To=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("NavBar"),a("b-container",{staticStyle:{"margin-top":"20px"},attrs:{fluid:""}},[a("b-row",{staticClass:"mb-3",attrs:{"align-h":"between"}},[a("b-col",{attrs:{cols:"4"}},[a("h3",[t._v("Manage School")])])],1),a("b-row",{staticClass:"mb-3",attrs:{"align-h":"end"}},[a("b-col",{attrs:{cols:"1"}},[t.totalRows>0?a("span",[t._v("Records: "+t._s(t.totalRows))]):t._e()]),a("b-col",{attrs:{cols:"4"}},[a("b-form-group",{staticClass:"mb-0",attrs:{label:"Record per page","label-cols-sm":"6","label-cols-md":"6","label-cols-lg":"6","label-align-sm":"right","label-size":"sm","label-for":"perPageSelect"}},[a("b-form-select",{staticStyle:{width:"35%"},attrs:{id:"perPageSelect",size:"sm",options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)],1),a("b-table",{attrs:{"current-page":t.currentPage,"per-page":t.perPage,items:t.items,fields:t.fields,"sort-desc":t.sortDesc,responsive:"sm",striped:"",hover:"",bordered:"","head-variant":"dark"},on:{"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"cell(sn)",fn:function(e){return[t._v(t._s(e.index+1))]}},{key:"cell(name)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(district)",fn:function(e){return[t._v(t._s(e.item.ward_no)+" "+t._s(e.item.municipality)+" "+t._s(" "+e.value))]}},{key:"cell(municipality)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(ward_no)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(phone_number)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(no_of_student)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(no_of_teacher)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(emis_code)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(head_teacher_name)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(head_teacher_phone)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(focal_teacher_name)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(focal_teacher_phone)",fn:function(e){return[t._v(t._s(e.value))]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"primary"},on:{click:function(a){return t.handleEdit(e.item)}}},[t._v("Edit")]),a("b-button",{staticClass:"mr-1",attrs:{size:"sm",variant:"danger"},on:{click:function(a){return t.handleDelete(e,e.index)}}},[t._v("Delete")])]}}])}),a("b-modal",{ref:"modal-edit",attrs:{title:"Edit School","hide-footer":"","no-close-on-backdrop":""}},[a("EditSchool",{attrs:{editRow:this.editRow}})],1),t.totalRows>1?a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}},[a("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e()],1)],1)},xo=[],jo=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"Name :"}},[a("b-form-input",{attrs:{type:"text",required:"required",placeholder:"Enter School Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("b-form-group",{attrs:{label:"EMIS Code :"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter EMIS Code"},model:{value:t.form.emis_code,callback:function(e){t.$set(t.form,"emis_code",e)},expression:"form.emis_code"}}),a("b-form-group",{attrs:{label:"Phone Number :"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Enter School Phone Number"},model:{value:t.form.phone_number,callback:function(e){t.$set(t.form,"phone_number",e)},expression:"form.phone_number"}})],1),a("b-form-group",{attrs:{label:"District :"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter School District"},model:{value:t.form.district,callback:function(e){t.$set(t.form,"district",e)},expression:"form.district"}})],1),a("b-form-group",{attrs:{label:"Municipality :"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter School Municipality"},model:{value:t.form.municipality,callback:function(e){t.$set(t.form,"municipality",e)},expression:"form.municipality"}})],1),a("b-form-group",{attrs:{label:"Ward_no :"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter School Ward No."},model:{value:t.form.ward_no,callback:function(e){t.$set(t.form,"ward_no",e)},expression:"form.ward_no"}})],1)],1),a("b-form-group",{attrs:{label:"Head Teacher Name :"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter Head Teacher's Name"},model:{value:t.form.head_teacher_name,callback:function(e){t.$set(t.form,"head_teacher_name",e)},expression:"form.head_teacher_name"}})],1),a("b-form-group",{attrs:{label:"Head Teacher's Phone :"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Enter Head Teacher's Phone "},model:{value:t.form.head_teacher_phone,callback:function(e){t.$set(t.form,"head_teacher_phone",e)},expression:"form.head_teacher_phone"}})],1),a("b-form-group",{attrs:{label:"Focal Teacher's Name :"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter Focal Teacher's Name "},model:{value:t.form.focal_teacher_name,callback:function(e){t.$set(t.form,"focal_teacher_name",e)},expression:"form.focal_teacher_name"}})],1),a("b-form-group",{attrs:{label:"Focal Teacher's Phone :"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Enter Focal Teacher's Phone "},model:{value:t.form.focal_teacher_phone,callback:function(e){t.$set(t.form,"focal_teacher_phone",e)},expression:"form.focal_teacher_phone"}})],1),a("b-form-group",{attrs:{label:"No. Of Student :"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Enter Number Of Student"},model:{value:t.form.no_of_student,callback:function(e){t.$set(t.form,"no_of_student",e)},expression:"form.no_of_student"}})],1),a("b-form-group",{attrs:{label:"Number Of Teacher :"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Enter Number Of Teacher"},model:{value:t.form.no_of_teacher,callback:function(e){t.$set(t.form,"no_of_teacher",e)},expression:"form.no_of_teacher"}})],1),a("div",{staticClass:"buttons"},[t.loading?a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{variant:"primary",disabled:""}},[a("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("Loading...\n      ")],1):a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1):t._e()],1)},So=[],Do=(a("8dfd"),{name:"AddSchool",data:function(){return{config:{header:{"Content-Type":"application/json"}},loading:!1,form:{},show:!0}},methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.loading=!0,C.post("/schools/addOREdit",this.form,this.config).then((function(t){"success"===t.data.response?(alert("School Added Successfully."),e.$root.$emit("close-modal"),e.loading=!1):"error"===t.data.response&&(alert("schools must be unique!!"),e.loading=!1)}))},onReset:function(t){var e=this;t.preventDefault(),this.form.name="",this.form.district="",this.show=!1,this.$nextTick((function(){e.show=!0}))}}}),Ro=Do,$o=Object(r["a"])(Ro,jo,So,!1,null,null,null),Po=$o.exports,No=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{attrs:{fluid:""}},[t.show?a("b-form",{on:{submit:t.onSubmit,reset:t.onReset}},[a("b-form-group",{attrs:{label:"Name :"}},[a("b-form-input",{attrs:{type:"text",required:"required",placeholder:"Enter School Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("b-form-group",{attrs:{label:"EMIS Code :"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter EMIS Code"},model:{value:t.form.emis_code,callback:function(e){t.$set(t.form,"emis_code",e)},expression:"form.emis_code"}}),a("b-form-group",{attrs:{label:"Phone Number :"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Enter School Phone Number"},model:{value:t.form.phone_number,callback:function(e){t.$set(t.form,"phone_number",e)},expression:"form.phone_number"}})],1),a("b-form-group",{attrs:{label:"District :"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter School District"},model:{value:t.form.district,callback:function(e){t.$set(t.form,"district",e)},expression:"form.district"}})],1),a("b-form-group",{attrs:{label:"Municipality :"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter School Municipality"},model:{value:t.form.municipality,callback:function(e){t.$set(t.form,"municipality",e)},expression:"form.municipality"}})],1),a("b-form-group",{attrs:{label:"Ward_no :"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter School Ward No."},model:{value:t.form.ward_no,callback:function(e){t.$set(t.form,"ward_no",e)},expression:"form.ward_no"}})],1)],1),a("b-form-group",{attrs:{label:"Head Teacher Name :"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter Head Teacher's Name"},model:{value:t.form.head_teacher_name,callback:function(e){t.$set(t.form,"head_teacher_name",e)},expression:"form.head_teacher_name"}})],1),a("b-form-group",{attrs:{label:"Head Teacher's Phone :"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Enter Head Teacher's Phone "},model:{value:t.form.head_teacher_phone,callback:function(e){t.$set(t.form,"head_teacher_phone",e)},expression:"form.head_teacher_phone"}})],1),a("b-form-group",{attrs:{label:"Focal Teacher's Name :"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Enter Focal Teacher's Name "},model:{value:t.form.focal_teacher_name,callback:function(e){t.$set(t.form,"focal_teacher_name",e)},expression:"form.focal_teacher_name"}})],1),a("b-form-group",{attrs:{label:"Focal Teacher's Phone :"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Enter Focal Teacher's Phone "},model:{value:t.form.focal_teacher_phone,callback:function(e){t.$set(t.form,"focal_teacher_phone",e)},expression:"form.focal_teacher_phone"}})],1),a("b-form-group",{attrs:{label:"No. Of Student :"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Enter Number Of Student"},model:{value:t.form.no_of_student,callback:function(e){t.$set(t.form,"no_of_student",e)},expression:"form.no_of_student"}})],1),a("b-form-group",{attrs:{label:"Number Of Teacher :"}},[a("b-form-input",{attrs:{type:"number",placeholder:"Enter Number Of Teacher"},model:{value:t.form.no_of_teacher,callback:function(e){t.$set(t.form,"no_of_teacher",e)},expression:"form.no_of_teacher"}})],1),a("div",{staticClass:"buttons"},[t.loading?a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{variant:"primary",disabled:""}},[a("b-spinner",{attrs:{small:"",type:"grow"}}),t._v("Loading...\n      ")],1):a("b-button",{staticStyle:{"margin-right":"5px"},attrs:{type:"submit",variant:"primary"}},[t._v("Submit")]),a("b-button",{attrs:{type:"reset",variant:"danger"}},[t._v("Reset")])],1)],1):t._e()],1)},Eo=[],Fo={name:"EditSchool",props:["editRow"],data:function(){return{config:{header:{"Content-Type":"application/json"}},loading:!1,form:{id:"",name:"",emis_code:"",phone_number:"",district:"",municipality:"",ward_no:"",head_teacher_name:"",head_teacher_phone:"",focal_teacher_name:"",focal_teacher_phone:"",no_of_student:"",no_of_teacher:""},show:!0}},mounted:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.editRow?(this.form.id=this.editRow.id,this.form.name=this.editRow.name,this.form.emis_code=this.editRow.emis_code,this.form.municipality=this.editRow.municipality,this.form.district=this.editRow.district,this.form.ward_no=this.editRow.ward_no,this.form.phone_number=this.editRow.phone_number,this.form.head_teacher_name=this.editRow.head_teacher_name,this.form.head_teacher_phone=this.editRow.head_teacher_phone,this.form.focal_teacher_name=this.editRow.focal_teacher_name,this.form.focal_teacher_phone=this.editRow.focal_teacher_phone,this.form.no_of_student=this.editRow.no_of_student,this.form.no_of_teacher=this.editRow.no_of_teacher):(alert("NO DATA"),this.$root.$emit("close-modal"));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.loading=!0,C.post("schools/addOREdit",this.form,this.config).then((function(t){"success"===t.data.response?(alert("School Updated Successfully."),e.$root.$emit("close-modal"),e.loading=!1):"error"===t.data.response&&alert("School must be unique!!")}))},onReset:function(t){var e=this;t.preventDefault(),this.form.name_en="",this.form.name_np="",this.show=!1,this.$nextTick((function(){e.show=!0}))}}},Oo=Fo,Ao=Object(r["a"])(Oo,No,Eo,!1,null,null,null),Lo=Ao.exports,Bo=(a("cbde"),{name:"School",components:{NavBar:ge,AddSchool:Po,EditSchool:Lo},data:function(){return{config:{header:{"Content-Type":"application/json"}},editRow:{},totalRows:1,currentPage:1,perPage:50,pageOptions:[5,10,15,25,50,100],sortDesc:!0,url:"https://learning.cehrd.edu.np/node/",fields:[{key:"sn",label:"S.N.",sortable:!0},{key:"name",sortable:!0,label:"Name"},{key:"emis_code",sortable:!0,label:"EMIS code"},{key:"district",sortable:!0,label:"Address"},{key:"phone_number",sortable:!0,label:"Phone Number"},{key:"head_teacher_name",sortable:!0,label:"Head Teacher"},{key:"head_teacher_phone",sortable:!0,label:"Head Teacher Phone"},{key:"focal_teacher_name",sortable:!0,label:"Focal Teacher"},{key:"focal_teacher_phone",sortable:!0,label:"Focal Teacher Phone"},{key:"no_of_student",sortable:!0,label:"No. of Student"},{key:"no_of_teacher",sortable:!0,label:"No. of Teacher"},{key:"actions",label:"Actions"}],items:[]}},created:function(){this.getData()},mounted:function(){var t=this;this.$root.$on("close-modal",(function(){t.$refs["modal-edit"]&&(t.$refs["modal-edit"].hide(),t.getData()),t.$refs["modal-1"]&&(t.$refs["modal-1"].hide(),t.getData())}))},methods:{handleEdit:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.editRow=e,this.$refs["modal-edit"].show();case 2:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleDelete:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=confirm("Are you really want to delete School ".concat(e.item.name," ?")),!a){t.next=4;break}return t.next=4,C.post("schools/activeORInactive",{id:e.item.id},this.config).then((function(t){"success"===t.data.response?(alert("Delete Successfully."),window.location.reload()):"error"===t.data.response&&alert("School can't be delete.")}));case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),getData:function(){var t=Object(y["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,C.get("/schools");case 2:e=t.sent,"success"===e.data.response&&e.data.data.length>0&&(this.items=e.data.data,this.totalRows=this.items.length);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}}),Uo=Bo,Io=Object(r["a"])(Uo,To,xo,!1,null,null,null),Go=Io.exports;o["default"].use(f["a"]);var Mo=new f["a"]({mode:"history",routes:[{path:"/",component:ae},{path:"/moe-admin",component:ce},{path:"/moe-admin/change-password",component:Ne,beforeEnter:qo},{path:"/moe-admin/user",component:Ze,beforeEnter:qo},{path:"/moe-admin/grades",component:Ua,beforeEnter:qo},{path:"/moe-admin/grades/add",component:Sa,beforeEnter:qo},{path:"/moe-admin/subjects",component:nn,beforeEnter:qo},{path:"/moe-admin/subjects/add",component:za,beforeEnter:qo},{path:"/moe-admin/add-content",component:aa,beforeEnter:qo},{path:"/moe-admin/contents",component:Ca,beforeEnter:qo},{path:"/moe-admin/topics",component:wn,beforeEnter:qo},{path:"/moe-admin/topics/add",component:un,beforeEnter:qo},{path:"/moe-admin/sub-topics",component:In,beforeEnter:qo},{path:"/moe-admin/content-owner",component:oo,beforeEnter:qo},{path:"/moe-admin/content-type",component:ko,beforeEnter:qo},{path:"/moe-admin/school",component:Go,beforeEnter:qo},{path:"/moe-admin/dashboard",component:ye},{path:"/moe-admin/*",component:je},{path:"/*",component:ae}]});function qo(t,e,a){var n=localStorage.getItem("moe-login");a("true"===n||{path:"/moe-admin",component:ce})}var Ho=a("5f5b"),zo=a("b1e0"),Vo=(a("f9e3"),a("2dd8"),a("0284")),Jo=a.n(Vo);o["default"].use(Ho["a"]),o["default"].use(zo["a"]),window.axios=p.a,o["default"].config.productionTip=!1,o["default"].use(Jo.a,{id:"UA-19274647-76",autoTracking:{screenview:!0}}),o["default"].mixin({methods:{getText:function(t){return"object"===Object(n["a"])(t)?t[this.$store.state.locale]:t}}}),new o["default"]({store:h,router:Mo,render:function(t){return t(u)}}).$mount("#app")},"57d6":function(t,e,a){"use strict";var n=a("da14"),o=a.n(n);o.a},"5b8d":function(t,e,a){},"5fa2":function(t,e,a){},"61ca":function(t,e,a){},"679b":function(t,e,a){"use strict";var n=a("55e8"),o=a.n(n);o.a},"67a6":function(t,e,a){"use strict";var n=a("e90a"),o=a.n(n);o.a},6912:function(t,e,a){"use strict";var n=a("f952"),o=a.n(n);o.a},7205:function(t,e,a){},"722e":function(t,e,a){},"75cd":function(t,e,a){t.exports=a.p+"img/Software-icon.88bc8793.svg"},7840:function(t,e,a){"use strict";var n=a("9087"),o=a.n(n);o.a},"7b42":function(t,e,a){t.exports=a.p+"img/MOE-HomeLogo.fec68554.png"},"7c1a":function(t,e,a){"use strict";var n=a("368d"),o=a.n(n);o.a},"7cff":function(t,e,a){},"80c1":function(t,e,a){},"80db":function(t,e,a){t.exports=a.p+"img/Audio And Task-icon.1e650386.svg"},"812c":function(t,e,a){"use strict";var n=a("b5a9"),o=a.n(n);o.a},8224:function(t,e,a){},"852a":function(t,e,a){"use strict";var n=a("8224"),o=a.n(n);o.a},8737:function(t,e,a){},8742:function(t,e,a){t.exports=a.p+"img/Simulation-icon.b4dcea22.svg"},"88d6":function(t,e,a){},"8bc9":function(t,e,a){},"8dd6":function(t,e,a){},"8dfd":function(t,e,a){},"8f0a":function(t,e,a){t.exports=a.p+"img/MOES&T-logo.315072e9.png"},9087:function(t,e,a){},"91e5":function(t,e,a){},"976b":function(t,e,a){t.exports=a.p+"img/MOES&T-Nep-logo.2cc660d3.png"},"97ee":function(t,e,a){"use strict";var n=a("f093"),o=a.n(n);o.a},"9a2e":function(t,e,a){"use strict";var n=a("2a44"),o=a.n(n);o.a},a1f7:function(t,e,a){"use strict";var n=a("80c1"),o=a.n(n);o.a},a215:function(t,e,a){},a4a4:function(t,e,a){},ad6d:function(t,e,a){t.exports=a.p+"img/Video-icon.03f91e45.svg"},ad80:function(t,e,a){},b5a9:function(t,e,a){},b848:function(t,e,a){},b856:function(t,e,a){"use strict";var n=a("0581"),o=a.n(n);o.a},baa4:function(t,e,a){},c386:function(t,e,a){},c8c5:function(t,e,a){t.exports=a.p+"img/SelectTopics.86eb4452.gif"},cac6:function(t,e,a){t.exports=a.p+"media/HelpVideo.25ed8553.mp4"},cbde:function(t,e,a){},d4ac:function(t,e,a){"use strict";var n=a("2eb5"),o=a.n(n);o.a},da14:function(t,e,a){},e346:function(t,e,a){},e4b0:function(t,e,a){t.exports=a.p+"img/Help.a4a46498.png"},e90a:function(t,e,a){},ea9d:function(t,e,a){t.exports=a.p+"img/Book-icon.c5395f71.svg"},f093:function(t,e,a){},f0c9:function(t,e,a){},f21d:function(t,e,a){},f590:function(t,e,a){t.exports=a.p+"img/right-arrow.be237328.svg"},f952:function(t,e,a){}});
//# sourceMappingURL=app.98737aa2.js.map